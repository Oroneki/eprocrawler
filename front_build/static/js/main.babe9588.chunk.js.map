{"version":3,"sources":["components/janelinha_event.module.css","components/downloader.module.css","app_functions/addSituacao.ts","app_functions/db.ts","app_functions/postData.ts","app_functions/deleteArquivos.ts","app_functions/handlePress.ts","app_functions/manejar.ts","components/button_mutex.tsx","app_functions/wsevents.ts","components/downloader.tsx","app_functions/parseDate.ts","app_functions/getProcessoInfoSida.ts","components/handleSida.tsx","components/janelinha_events.tsx","components/jseditor.tsx","app_functions/debounce.ts","components/listagem_dummy.tsx","components/loading.tsx","context.ts","components/processo.tsx","app_functions/getDigitoCPF_CNPJ.ts","web_workers/web_worker_component.tsx","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["module","exports","event","downloader","download","processo","bytes","spinner","spinnn","move","addSituacao","self","ev","nativeEvent","keyCode","setState","showInput","focaNaDivPricincipal","novo","input","value","toUpperCase","s","destinosNovos","destinos","find","dst","concat","Object","objectSpread","situacao","defineProperty","selecionado","db","addOrAtualiza","numero","state","data","Date","botaSituacaoNoCanvas","DB","key","_this","this","version","arguments","length","undefined","classCallCheck","database","stringKey","dbVersion","obj","trans","transaction","oncomplete","onerror","onabort","objectStore","put","addOrAtualizaSida","console","log","deleteRecord","delete","getSidaRecord","callback","t","get","onsuccess","getAll","Promise","reso","reje","openCursor","res","e","curr","target","result","push","continue","getProcessoDocs","resolve","reject","createClass","_this2","dbreq","window","indexedDB","open","r","j","onupgradeneeded","objectStoreNames","contains","createObjectStore","keyPath","postData","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","url","vem","wrap","_context","prev","next","axios","post","sent","t0","abrupt","status","statusText","stop","_x","_x2","apply","deleteArquivos","thiscomponent","jeisum","certo","errado","forEach","proc","manejar","handlePress","showGotoPageInput","document","activeElement","id","antigo","arrT","processosList","indexAntigo","findIndex","num","loadPDF","atual","indexAtual","save","JSON","stringify","localStorage","setItem","localStorageKey","pdfGotoPage","paginaAtual","setTimeout","focus","gotoinput","stateStr","getItem","stateObj","parse","pdfDiminuiZoom","pdfAumentaZoom","pdfPagAnterior","pdfPagProxima","pdfBaixaVisualizacao","pdfSobeVisualizacao","limpaSituacao","warn","resultado","newState","manejoAntigo","manejo","newDeletados","Set","deletadosOk","values","element","add","errosDelete","has","newErros","newErros2","newCopiados","copiados","ButtonMutex","props","_useState","useState","_useState2","slicedToArray","isLocked","setIsLocked","react","onClick","fetch","portServer","then","json","f","catch","error","className","style","width","JanelinhaProcessoInfoEventInfo","tipo","parseFunction","pld","striped_prc_events","split","stripped_events","events","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","se","splitted","nome_doc","ordem","parseInt","pag_inicio","pag_fim","tamanho","err","return","processoImpuro","infos","DownloadConcludedEventInfo","striped","processo_filename","final_filepath","JanelinhaEventInfo","janId","descricao","fase","DownloadBytesEventInfo","ALL_DOWNLOADS_FINISHED_EVINFO","initialDown","Downloader","downloads","setDownloads","_useState3","_useState4","show","setShow","React","action","detail","remove","loga","hide","addEventListener","removeEventListener","vals","css","map","d","ProcessoDownloading","fontSize","downloader_PLoading","color","PLoading","viewBox","height","cx","cy","fill","x","y","mask","defaultProps","bgcolor","parseSidaDate","dateStr","args","reverse","slice","construct","toConsumableArray","getProcessoInfoSidaNEW","host","_ref2","_callee2","processosNumbers","processosNumbersString","resp","filteredArray","_context2","join","el","listaInscrições","lista_inscrições","ins","dataObj","numInsc","cpfCnpj","dataInsc","procuradoriaResponsável","situação","Situação","valorConsolidado","valorInscrito","processo_key","qtdInscricoes","qtd_inscricoes","InscricaoConsulta","inscricaoConsulta","toLocaleDateString","foiDepois","ProcessoConsulta","de","consultaDeProcesso","dataEntrada","diffDias","valueOf","isShowDespacho","setDespacho","isDespachoEllegible","listaInscricoes","every","i","includes","marginBottom","backgroundColor","eprocessoData","handleSida_InscricaoConsulta","toString","io","replace","SidaConsulta","possibleConstructorReturn","getPrototypeOf","call","consulta","consultasDeProcesso","newConsultas","loading","list","c","procuradoriaResponsavel","p","handleSida_ProcessoConsulta","filter","JanelinhaEventsLog","setEvents","Editor","debounceBabel","codeBlockDisplayRef","sendCodeToEndpoint","selectedEndPoint","transpiledCode","handleChange","getHtml","__html","highlightedCode","toggleEndpoint","newIndex","index","endpoints","transformBabel","code","Babel","presets","plugins","babelPluginBlockScoping","babelPluginTransformArrowFunctions","trim","high","Prism","javascript","on","func","wait","immediate","timeout","context","callNow","clearTimeout","debounce","offDiv","display","alignItems","justifyContent","padding","flexDirection","flex","rows","fontFamily","lineHeight","border","margin","onChange","ref","dangerouslySetInnerHTML","Listagem","copy","separador","botaoAtivo","clicado","arr","keys","numProc","LoadingComponent","rectStyle","stroke","strokeWidth","rectNodes","getElementById","defaultState","totalPaginas","carregando","botaoClickAtivo","botoesClickClicados","copyList","focaNaDivPrincipal","Context","createContext","withCache","fn","info","set","map1","Map","map2","stringToNumber","Array","from","reduce","pr","cu","charCodeAt","getColor","Processo","procObj","ultres","tarefa","dataSituacao","dataSitu","numeroBelo","hojeVal","dataEntraSplitted","dataEntradaDate","ehAntigaClassificacao","opa","ehAntigoProcesso","Math","floor","digito","CPF_OU_CNPJ","semNada","substr","getDigito","Consumer","borderRadius","WorkerComponentHandler","workerAddr","process","worker","Worker","onmessage","messageParsed","evv","CustomEvent","payload","dispatchEvent","handleWorkerMessages","postMessage","wsPort","name","dbName","META","App","colecao","PDF","sortKey","ws","textarea","canvas","outerDiv","divPrincipal","canvasRenderContext2D","currentPdf","interval","atualizaColecao","node","str","dstStr","select","execCommand","listaProcessos","some","blur","goToPageInputAction","pdfStr","pdf","pageNumber","clearInterval","numeroProcesso","getDocument","numPages","totalPages","fillStyle","fillRect","strokeStyle","font","fillText","sort","b","animaCanvas","qq","random","ww","setInterval","q","w","newSituacao","assertThisInitialized","codEquipe","pasta_download","bind","PDFJS","page","zoom","verticalOffset","canvasHeight","outerHeight","canvasWidth","outerWidth","createRef","setup","agora","_loop","ProcObj","newProcessosList","group","groupEnd","getPage","viewport","getViewport","getTextContent","contents","transform","renderContext","canvasContext","render","promise","renderTask","futuro","current","getContext","_this3","posWidth","innerWidth","posHeight","innerHeight","divCanvas","left","top","todasSitu","acc","atu","destino","Provider","loading_LoadingComponent","tabIndex","onKeyDown","position","maxWidth","App_DocInfo","pagAtual","zIndex","n","components_processo","listagem_dummy","boxSizing","resize","right","boxShadow","bottom","size","handleSida_SidaConsulta","InfoHeader","BottomInfo","processosListLength","situacaolength","processoObj","jseditor_Editor","janelinha_events_JanelinhaEventsLog","button_mutex_ButtonMutex","web_worker_component_WorkerComponentHandler","downloader_Downloader","DocInfo","_React$useState","_React$useState2","doc","setDoc","_React$useState3","_React$useState4","ant","setAnt","_React$useState5","_React$useState6","setIni","_callee3","indice","sub","_context3","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","pdfjsLib","pdfjsWorker","PORT_SERVER","eprocData","eprocDataFinal","response","__META__","ReactDOM","src_App_0","URL","origin","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.babe9588.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"event\":\"janelinha_event_event__3_VV4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"downloader\":\"downloader_downloader__2f0MM\",\"download\":\"downloader_download__2f47x\",\"processo\":\"downloader_processo__C1xJy\",\"bytes\":\"downloader_bytes__3JoPw\",\"spinner\":\"downloader_spinner__zbtBR\",\"spinnn\":\"downloader_spinnn__3ZzjY\",\"move\":\"downloader_move__1dmtT\"};","import App from '../App';\r\n\r\nexport const addSituacao = (self: App) => (ev) => {\r\n  // console.log('addSitucao', ev);\r\n  if (!(ev.nativeEvent.keyCode === 13 || ev.nativeEvent.keyCode === 27)) {\r\n    return;\r\n  }\r\n  if (ev.nativeEvent.keyCode === 27) {\r\n    self.setState(\r\n      { showInput: false },\r\n      self.focaNaDivPricincipal\r\n    );\r\n  }\r\n  let novo = (self.input as HTMLInputElement).value.toUpperCase();\r\n  self.setState(\r\n    (s) => {\r\n      let destinosNovos: string[] = s.destinos;\r\n      if (!(s.destinos.find((dst) => dst === novo))) {\r\n        destinosNovos = destinosNovos.concat(novo);\r\n      }\r\n      // self.colecao[s.selecionado].focus();\r\n      return {\r\n        ...s,\r\n        situacao:\r\n          {\r\n            ...s.situacao,\r\n            [s.selecionado]: novo\r\n          },\r\n        showInput: false,\r\n        destinos: destinosNovos,\r\n      };\r\n    },\r\n    () => {\r\n      self.db.addOrAtualiza({\r\n        numero: self.state.selecionado,\r\n        situacao: novo,\r\n        data: new Date(),\r\n      });\r\n      self.focaNaDivPricincipal();\r\n      self.botaSituacaoNoCanvas();\r\n    }\r\n  );\r\n};","export class DB {\r\n    private database: IDBDatabase;\r\n    private stringKey: string;\r\n    private dbVersion: number;\r\n    constructor(public key: string, version: number = 3) {\r\n        this.stringKey = key;\r\n        this.dbVersion = version;\r\n    }\r\n    setup() {\r\n        const dbreq = window.indexedDB.open(this.stringKey, this.dbVersion);\r\n        const prom = new Promise((r, j) => {\r\n            dbreq.onupgradeneeded = (ev) => {\r\n                // console.log('UPGRADE DB');\r\n                this.database = dbreq.result;\r\n                if (!this.database.objectStoreNames.contains('situacoes')) {\r\n                    // console.log('não contem a \"tabela\" situacoes');\r\n                    this.database.createObjectStore('situacoes', { keyPath: 'numero' });\r\n                } else {\r\n                    // console.log('tem a tabela situacoes.', this.database);                \r\n                }\r\n                if (!this.database.objectStoreNames.contains('sida')) {\r\n                    // console.log('não contem a \"tabela\" situacoes');\r\n                    this.database.createObjectStore('sida', { keyPath: 'processo' });\r\n                } else {\r\n                    // console.log('tem a tabela situacoes.', this.database);                \r\n                }\r\n                if (!this.database.objectStoreNames.contains('documentos')) {\r\n                    this.database.createObjectStore('documentos', { keyPath: 'processo' });\r\n                    console.log('updated db')\r\n                } else {\r\n                }\r\n                r(this);\r\n            };\r\n            dbreq.onsuccess = (ev: any) => {\r\n                // console.log('SUCESS DB');\r\n                // console.log('db sucess', ev);\r\n                this.database = ev.target.result;\r\n                // console.log(this.database);\r\n                r(this);\r\n            };\r\n            dbreq.onerror = (ev) => {\r\n                // console.log('db ERROR', ev);\r\n                j();\r\n            };\r\n        });\r\n        return prom;\r\n    }\r\n\r\n    addOrAtualiza = (obj: { numero: string, situacao: string, data: Date }) => {\r\n        // console.log('transacao:', obj);\r\n        const trans = this.database.transaction(['situacoes'], 'readwrite');\r\n        trans.oncomplete = () => {\r\n            // console.log('x transacao completada.');\r\n        };\r\n        trans.onerror = () => {\r\n            // console.log('x transacao ERRO.');\r\n        };\r\n        trans.onabort = () => {\r\n            // console.log('x transacao ABORTADA.');\r\n        };\r\n        const transacao = trans.objectStore('situacoes');\r\n        transacao.put(obj);\r\n    }\r\n\r\n    addOrAtualizaSida = (obj: any) => {\r\n        console.log('transacao SIDA:', obj);\r\n        const trans = this.database.transaction(['sida'], 'readwrite');\r\n        trans.oncomplete = () => {\r\n            // console.log('x transacao completada.');\r\n        };\r\n        trans.onerror = () => {\r\n            // console.log('x transacao ERRO.');\r\n        };\r\n        trans.onabort = () => {\r\n            // console.log('x transacao ABORTADA.');\r\n        };\r\n        const transacao = trans.objectStore('sida');\r\n        transacao.put(obj);\r\n    }\r\n\r\n    deleteRecord = (numero: string) => {\r\n        // console.log('transacao DELETE:', numero);\r\n        const trans = this.database.transaction(['situacoes'], 'readwrite');\r\n        trans.oncomplete = () => {\r\n            // console.log('x transacao completada.', numero, 'deletado.');\r\n        };\r\n        trans.onerror = () => {\r\n            // console.log('x transacao ERRO.');\r\n        };\r\n        trans.onabort = () => {\r\n            // console.log('x transacao ABORTADA.');\r\n        };\r\n        const transacao = trans.objectStore('situacoes');\r\n        transacao.delete(numero);\r\n\r\n    }\r\n\r\n    getSidaRecord = (processo: string, callback: (e: Event) => void) => {\r\n        const trans = this.database.transaction(['sida'], 'readonly');\r\n        // @ts-ignore\r\n        trans.oncomplete = (t) => {\r\n            console.log('x transacao SIDA GET completada.', t);\r\n        };\r\n        trans.onerror = () => {\r\n            // console.log('x transacao ERRO.');\r\n        };\r\n        trans.onabort = () => {\r\n            // console.log('x transacao ABORTADA.');\r\n        };\r\n        const store = trans.objectStore('sida');\r\n        const req = store.get(processo)\r\n        req.onsuccess = (ev) => {\r\n            console.log('success: ', ev)\r\n            callback(ev)\r\n        }\r\n\r\n    }\r\n\r\n    getAll = () => {\r\n\r\n        const retuno = new Promise((reso, reje) => {\r\n            // console.log('database >', this.database);\r\n            const trans = this.database.transaction(['situacoes']).objectStore('situacoes').openCursor();\r\n            const res: Array<any> = [];\r\n            trans.onsuccess = (e: any) => {\r\n                console.log('   transacao cursor sucesso...', e, typeof e);\r\n                const curr: IDBCursorWithValue = e.target.result;\r\n                if (curr) {\r\n                    console.log(curr.value);\r\n                    res.push(curr.value);\r\n                    curr.continue();\r\n                } else {\r\n                    // console.log('\\n\\nFIM\\n\\n');\r\n                    // console.log('resolução ->', res, '');\r\n                    reso(res);\r\n                }\r\n            };\r\n            trans.onerror = () => {\r\n                // console.log('cursor    transacao ERRO.');\r\n                reje('miow');\r\n            };\r\n        });\r\n        return retuno;\r\n    }\r\n\r\n    getProcessoDocs = (processo: string) => {\r\n        return new Promise((resolve, reject) => {\r\n            const trans = this.database.transaction(['documentos'])\r\n            const get = trans.objectStore('documentos').get(processo)\r\n            get.onerror = function (e) {\r\n                reject(e)\r\n            }\r\n            get.onsuccess = function (e) {\r\n                const processo = (e.target as any).result\r\n                console.log('%c Processo Docs:', 'color: green', processo)\r\n                resolve(processo)\r\n            }\r\n        })\r\n    }\r\n\r\n}","import axios, { AxiosResponse } from 'axios';\r\n\r\nexport const postData = async (url: string, data: string): Promise<object | null> => {\r\n  // console.log('postData', url, data);\r\n  let vem: AxiosResponse;\r\n  try {\r\n    vem = await axios.post(\r\n      url,\r\n      data\r\n    );\r\n  } catch (error) {\r\n    console.log('Opa - Erro do axiose');\r\n    console.log(error);\r\n    return null;\r\n  }\r\n  if (!(vem.status < 300)) {\r\n    console.log('Opa - Erro no request do post pra delete');\r\n    console.log(vem.status, vem.statusText);\r\n    console.log(vem);\r\n    return null;\r\n  }\r\n  console.log(vem.data);\r\n  return vem.data;\r\n};\r\n","\r\nimport { postData } from './postData';\r\n\r\nexport const deleteArquivos = (thiscomponent, url: string) => async (data: string) => {\r\n    // console.log('post', url, 'data->', data);\r\n    let jeisum = await postData(url, data) as {certo: string[], errado: string[]} | null;\r\n    if (!jeisum) {\r\n        return null;\r\n    }\r\n    const {certo, errado} = jeisum;\r\n    certo.forEach(\r\n        proc => thiscomponent.state.manejar('deletou', proc)\r\n    );\r\n    errado.forEach(\r\n        proc => thiscomponent.state.manejar('falhou', proc)\r\n    );\r\n    return jeisum;\r\n};\r\n","import App from '../App';\r\n// import { SyntheticEvent as Event } from 'react';\r\n\r\nexport const handlePress = (self: App) => (ev: any) => {\r\n  // console.log('>', ev.nativeEvent.key, ' - ', ev.nativeEvent.keyCode);\r\n  if (self.state.showInput || self.state.showGotoPageInput) {\r\n    // console.log('ignorar...');\r\n    return;\r\n  }\r\n  if (document!.activeElement!.id === 'editor') {\r\n    return;\r\n  }\r\n  switch (ev.nativeEvent.keyCode) {\r\n    case 70: // f\r\n      // console.groupCollapsed('handlePress');\r\n      self.setState(\r\n        s => {\r\n          let antigo = s.selecionado;\r\n          let arrT = self.state.processosList;\r\n          // let key = self.sortKey;\r\n          let indexAntigo = arrT.findIndex(num => num === antigo);\r\n          // console.log('indexAntigo', indexAntigo);\r\n          let novo = arrT[indexAntigo + 1];\r\n          if (novo === undefined) {\r\n            novo = arrT[0];\r\n          }\r\n          // console.log('novo', novo);\r\n          self.loadPDF(novo);\r\n          // self.colecao[arr[novoIndex]].focus();        \r\n          return { selecionado: novo };\r\n        },\r\n        () => self.focaNaDivPricincipal()\r\n      );\r\n      // console.groupEnd();\r\n      break;\r\n\r\n    case 68: // d\r\n      // console.groupCollapsed('handlePress');\r\n      self.setState(\r\n        s => {\r\n          let antigo = s.selecionado;\r\n          let arrT = self.state.processosList;\r\n          // let key = self.sortKey;\r\n          let indexAntigo = arrT.findIndex(num => num === antigo);\r\n          // console.log('indexAntigo', indexAntigo);\r\n          let novo: string;\r\n          if (indexAntigo === 0) {\r\n            novo = arrT[arrT.length - 1];\r\n          } else {\r\n            novo = arrT[indexAntigo - 1];\r\n          }\r\n          // console.log('novo', novo);\r\n          self.loadPDF(novo);\r\n          // self.colecao[arr[novoIndex]].focus();        \r\n          return { selecionado: novo };\r\n        },\r\n        () => self.focaNaDivPricincipal()\r\n      );\r\n      // console.groupEnd();\r\n\r\n      break;\r\n    case 74: // j\r\n      self.setState(\r\n        (s) => {\r\n          let atual = s.situacao[s.selecionado];\r\n          if (atual === '0') { return null; }\r\n          if (!atual) {\r\n            return { ...s, situacao: { ...s.situacao, [s.selecionado]: s.destinos[0] } };\r\n          }\r\n          let indexAtual = s.destinos.findIndex(a => a === atual);\r\n          let tam = s.destinos.length;\r\n          if (indexAtual === tam - 1) {\r\n            return { ...s, situacao: { ...s.situacao, [s.selecionado]: s.destinos[0] } };\r\n          }\r\n          return { ...s, situacao: { ...s.situacao, [s.selecionado]: s.destinos[indexAtual + 1] } };\r\n        },\r\n        () => {\r\n          let save = JSON.stringify(self.state);\r\n          localStorage.setItem(self.localStorageKey, save);\r\n          self.db.addOrAtualiza({\r\n            numero: self.state.selecionado,\r\n            situacao: self.state.situacao[self.state.selecionado],\r\n            data: new Date(),\r\n          }\r\n          );\r\n          self.pdfGotoPage(self.state.paginaAtual);\r\n        }\r\n      );\r\n      break;\r\n    case 73: // i      \r\n      self.setState(\r\n        (s) => {\r\n          if (s.selecionado === '0') {\r\n            return null;\r\n          }\r\n          return { ...s, showInput: true };\r\n        },\r\n        () => setTimeout(\r\n          () => {\r\n            if (!self.input) {\r\n              return\r\n            }\r\n            (self.input as HTMLInputElement).value = '';\r\n            (self.input as HTMLInputElement).focus();\r\n          },\r\n          0)\r\n      );\r\n      break;\r\n\r\n    case 71: // g\r\n      self.setState(\r\n        (s) => {\r\n          if (s.selecionado === '0') {\r\n            return null;\r\n          }\r\n          return { ...s, showGotoPageInput: true };\r\n        },\r\n        () => setTimeout(\r\n          () => {\r\n            if (!self.gotoinput) {\r\n              // console.log('gotoinput nada...');\r\n              return;\r\n            }\r\n            (self.gotoinput as HTMLInputElement).value = '';\r\n            (self.gotoinput as HTMLInputElement).focus();\r\n          },\r\n          0)\r\n      );\r\n      break;\r\n\r\n    case 109: // - (teclado numerico)\r\n      let stateStr = localStorage.getItem(self.localStorageKey);\r\n      if (stateStr === null) {\r\n        // console.log('Nada salvo no localStorage');\r\n        return;\r\n      }\r\n      let stateObj = JSON.parse(stateStr);\r\n      self.setState(stateObj);\r\n      break;\r\n    case 81: // q\r\n      self.pdfDiminuiZoom();\r\n      break;\r\n    case 87: // w\r\n      self.pdfAumentaZoom();\r\n      break;\r\n    case 65: // a\r\n      self.pdfPagAnterior();\r\n      break;\r\n    case 83: // s\r\n      self.pdfPagProxima();\r\n      break;\r\n    case 186: // ç\r\n      self.pdfBaixaVisualizacao();\r\n      break;\r\n    case 76: // l(L)\r\n      self.pdfSobeVisualizacao();\r\n      break;\r\n    case 192: // ' aspas simples\r\n      self.limpaSituacao();\r\n      break;\r\n    default:\r\n      console.warn('%c handlePress', 'background-color: #ccc;', ev)\r\n      break;\r\n  }\r\n\r\n};","import { ManejoState } from '../context';\r\n\r\nexport const manejar = (self) => (resultado, processo) => {\r\n    // console.log('manejar -> ', resultado, processo);    \r\n    self.setState((state) => {\r\n        const manejoAntigo: ManejoState = self.state.manejo;\r\n        let newState: ManejoState;\r\n        // console.log('manejar ->', resultado, processo, 'antigo', manejoAntigo);\r\n        switch (resultado) {\r\n            case 'deletou':\r\n                const newDeletados = new Set(manejoAntigo.deletadosOk.values());\r\n                // console.log('newDeletados', newDeletados);\r\n                newDeletados.forEach(element => {\r\n                    // console.log('deletar ', element);\r\n                    self.db.deleteRecord(element);\r\n                });\r\n                newDeletados.add(processo);\r\n                newState = {\r\n                    ...manejoAntigo,\r\n                    deletadosOk: newDeletados,\r\n                };\r\n                if (manejoAntigo.errosDelete.has(processo)) {\r\n                    const newErros = new Set(manejoAntigo.errosDelete.values());\r\n                    newErros.delete(processo);\r\n                    newState = {\r\n                        ...newState,\r\n                        errosDelete: newErros\r\n                    };\r\n                }\r\n                break;\r\n            case 'falhou':\r\n                const newErros2 = new Set(manejoAntigo.errosDelete.values());\r\n                newErros2.add(processo);\r\n                newState = {\r\n                    ...manejoAntigo,\r\n                    errosDelete: newErros2,\r\n                };\r\n                break;\r\n            case 'copiou':\r\n                const newCopiados = new Set(manejoAntigo.copiados.values());\r\n                newCopiados.add(processo);\r\n                newState = {\r\n                    ...manejoAntigo,\r\n                    copiados: newCopiados,\r\n                };\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n        return {\r\n            ...state,\r\n            manejo: newState,\r\n        };\r\n    }\r\n    );\r\n};","import * as React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nexport const ButtonMutex = (props: { portServer: string }) => {\r\n\r\n    const [isLocked, setIsLocked] = useState(false)\r\n\r\n    const endPoint = () => {\r\n        fetch(`http://localhost:${props.portServer}/toggle_lock`)\r\n            .then(res => res.json())\r\n            .then(f => {\r\n                console.log('BUTTON LOCK RES:', f);\r\n                setIsLocked(!isLocked);\r\n            })\r\n            .catch(e => console.error('ERROR ', e))\r\n    }\r\n\r\n    return (\r\n        <button onClick={endPoint} className=\"button mutex\" style={{ width: '280px' }}>\r\n            Toggle Mutex {isLocked ? \"(paused)\" : \"\"}\r\n        </button>\r\n    )\r\n}","import { DocProcesoInfo, DownloadBytesMessage, DownloadConcluded, JanelinhaEvent, JanelinhaProcessoInfo, WSEventInfo } from \"./WSEventInfo_interfaces\";\r\n\r\nexport const JanelinhaProcessoInfoEventInfo: WSEventInfo<JanelinhaProcessoInfo> = {\r\n    tipo: \"JANELINHA_INFO_PROCESSO\",\r\n    parseFunction: (pld) => {\r\n        const striped_prc_events = pld.split('|@@|');\r\n        const processo = striped_prc_events[0]\r\n        const stripped_events = striped_prc_events[1].split('|##|')\r\n        const events: DocProcesoInfo[] = []\r\n        for (const se of stripped_events) {\r\n            if (se.length < 5) {\r\n                return\r\n            }\r\n            const splitted = se.split('|')\r\n            const event: DocProcesoInfo = {\r\n                nome_doc: splitted[0],\r\n                ordem: parseInt(splitted[1], 10),\r\n                pag_inicio: parseInt(splitted[2], 10),\r\n                pag_fim: parseInt(splitted[3], 10),\r\n                situacao: splitted[4],\r\n                tamanho: parseInt(splitted[5], 10),\r\n            }\r\n            events.push(event)\r\n        }\r\n        return {\r\n            processoImpuro: processo,\r\n            infos: events\r\n        }\r\n    },\r\n    callback: null\r\n}\r\n\r\nexport const DownloadConcludedEventInfo: WSEventInfo<DownloadConcluded> = {\r\n    tipo: \"DOWNLOAD_FINISHED\",\r\n    parseFunction: (pld) => {\r\n        const striped = pld.split('|');\r\n\r\n        return {\r\n            processo_filename: striped[0],\r\n            final_filepath: striped[1],\r\n        }\r\n    },\r\n    callback: null\r\n}\r\n\r\nexport const JanelinhaEventInfo: WSEventInfo<JanelinhaEvent> = {\r\n    tipo: \"JANELINHA_EVENT\",\r\n    parseFunction: (pld) => {\r\n        const striped = pld.split('|');\r\n        return {\r\n            janId: striped[0],\r\n            processoImpuro: striped[1],\r\n            descricao: striped[2],\r\n            fase: parseInt(striped[3], 10),\r\n        }\r\n    },\r\n    callback: null\r\n}\r\n\r\nexport const DownloadBytesEventInfo: WSEventInfo<DownloadBytesMessage> = {\r\n    tipo: \"D_REPORTER\",\r\n    parseFunction: (pld) => {\r\n        const striped = pld.split('|');\r\n        return {\r\n            processo_filename: striped[0],\r\n            bytes: parseInt(striped[1], 10)\r\n        }\r\n    },\r\n    callback: null\r\n}\r\n\r\nexport const IMALIVEInfo: WSEventInfo<string> = {\r\n    tipo: \"im_alive\",\r\n    parseFunction: (pld) => \"parsed\",\r\n    callback: null\r\n}\r\n\r\nexport const ALL_DOWNLOADS_FINISHED_EVINFO: WSEventInfo<null> = {\r\n    tipo: \"ALL_DOWNLOADS_FINISHED\",\r\n    parseFunction: (pld) => null,\r\n    callback: null\r\n}\r\n\r\n\r\nexport const WSEvents: { [k: string]: WSEventInfo<any> } = {\r\n    D_REPORTER: DownloadBytesEventInfo,\r\n    im_alive: IMALIVEInfo,\r\n    DOWNLOAD_FINISHED: DownloadConcludedEventInfo,\r\n    ALL_DOWNLOADS_FINISHED: ALL_DOWNLOADS_FINISHED_EVINFO,\r\n    JANELINHA_EVENT: JanelinhaEventInfo,\r\n    JANELINHA_INFO_PROCESSO: JanelinhaProcessoInfoEventInfo,\r\n}\r\n\r\nexport const handleWsMessages = function (ev: MessageEvent) {\r\n    const messageParsed: { tipo: string, payload: string } = JSON.parse(ev.data)\r\n    console.log('WSEVENT:', messageParsed);\r\n    const infoEvent = WSEvents[messageParsed.tipo]\r\n    const evv: any = new CustomEvent(infoEvent.tipo, { detail: infoEvent.parseFunction(messageParsed.payload) })\r\n    window.dispatchEvent(evv)\r\n}","import * as React from 'react';\r\nimport { useState } from \"react\";\r\nimport { ALL_DOWNLOADS_FINISHED_EVINFO, DownloadBytesEventInfo, DownloadConcludedEventInfo, JanelinhaProcessoInfoEventInfo } from '../app_functions/wsevents';\r\nimport './downloader.css';\r\nimport css from './downloader.module.css';\r\n\r\ntype Download = {\r\n    processo_filename: string\r\n    bytes: number\r\n}\r\n\r\nconst initialDown = process.env.NODE_ENV === 'development' ? {\r\n    \"devel1040.9876987/874684-99\": {\r\n        processo_filename: 'devel1040.9876987/874684-99',\r\n        bytes: 1000009888987,\r\n    },\r\n    'devel21040.9876987/874684-99': {\r\n        processo_filename: 'devel21040.9876987/874684-99',\r\n        bytes: 1000009928987,\r\n    }\r\n} : {}\r\n\r\nexport const Downloader = (props) => {\r\n\r\n    const [downloads, setDownloads] = useState<{ [k: string]: Download }>(initialDown)\r\n    const [show, setShow] = useState<boolean>(true)\r\n\r\n    React.useEffect(() => {\r\n        const action = (ev) => {\r\n            console.log('%c DETAIL', ev.detail)\r\n            if (ev.detail && ev.detail.processo_filename && ev.detail.bytes) {\r\n                setDownloads((antigo: { [k: string]: Download }) => ({\r\n                    ...antigo,\r\n                    [ev.detail.processo_filename]: ev.detail\r\n                }))\r\n            }\r\n        }\r\n        const remove = (ev) => {\r\n            console.log('REMOVE: ', ev.detail)\r\n            if (ev.detail && ev.detail.processo_filename) {\r\n                setDownloads((antigo: any) => {\r\n                    const novo = { ...antigo }\r\n                    delete novo[ev.detail.processo_filename]\r\n                    return novo\r\n                })\r\n            }\r\n        }\r\n        const loga = (e) => {\r\n            console.log(e.detail);\r\n        }\r\n\r\n        const hide = () => setShow(false)\r\n\r\n        window.addEventListener(DownloadBytesEventInfo.tipo as any, action)\r\n        // window.addEventListener(IMALIVEInfo.tipo as any, action)\r\n        window.addEventListener(DownloadConcludedEventInfo.tipo as any, remove)\r\n        window.addEventListener(JanelinhaProcessoInfoEventInfo.tipo as any, loga)\r\n        window.addEventListener(ALL_DOWNLOADS_FINISHED_EVINFO.tipo as any, hide)\r\n\r\n\r\n        return () => {\r\n            window.removeEventListener(DownloadBytesEventInfo.tipo as any, action);\r\n            // window.removeEventListener(IMALIVEInfo.tipo as any, action);\r\n            window.removeEventListener(DownloadConcludedEventInfo.tipo as any, remove)\r\n            window.removeEventListener(JanelinhaProcessoInfoEventInfo.tipo as any, loga)\r\n            window.removeEventListener(ALL_DOWNLOADS_FINISHED_EVINFO.tipo as any, hide)\r\n        }\r\n    }, [])\r\n\r\n    const vals = Object.values(downloads)\r\n\r\n    if (vals.length === 0) {\r\n        return null\r\n    }\r\n    return show && (\r\n        <div className={css.downloader}>\r\n            {vals.map(d => <ProcessoDownloading key={d.processo_filename} processo_filename={d.processo_filename} bytes={d.bytes} />)}\r\n            <span style={{ fontSize: '8px' }} onClick={() => setShow(false)}>[close]</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProcessoDownloading = React.memo((props: Download) => {\r\n    console.log('css', css)\r\n    console.log('css.download', css.download)\r\n\r\n    return (\r\n        <div key={props.processo_filename} className={css.download}>\r\n            <PLoading color='#ccc' />\r\n            <span className={css.processo}>\r\n                {props.processo_filename}\r\n            </span>\r\n            <span className={css.bytes}>\r\n                {props.bytes}\r\n            </span>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport const PLoading = (props: { color: string }) => {\r\n\r\n\r\n    return (<span className={css.move}>\r\n        <svg className={css.spinner} viewBox=\"0 0 100 100\" width=\"20px\" height=\"20px\">\r\n            <defs>\r\n                <mask id=\"m\">\r\n                    <circle cx=\"50\" cy=\"50\" fill=\"white\" r=\"50\" />\r\n                    <circle cx=\"50\" cy=\"50\" fill=\"black\" r=\"20\" />\r\n                    <rect x=\"50\" y=\"50\" width=\"50\" height=\"50\" fill=\"black\" />\r\n\r\n                </mask>\r\n            </defs>\r\n            <circle cx=\"52\" cy=\"52\" fill={props.color} r=\"50\" mask=\"url(#m)\" />\r\n        </svg>\r\n    </span>)\r\n}\r\n\r\nPLoading.defaultProps = {\r\n    color: \"#000\",\r\n    bgcolor: \"#ccc\",\r\n}","export const parseSidaDate = (dateStr: string) => {\r\n    const args = dateStr.split('/').reverse().map(x => parseInt(x, 10)).slice(0, 3);\r\n    args[1] = args[1] - 1;\r\n            \r\n    const dataParsed: Date = new Date(...args as [number, number, number]);\r\n\r\n    // console.log(' parseSidaDate > ', dateStr, ' - ', args, ' - ', dataParsed.toISOString(), ' : ', dataParsed);\r\n\r\n    return dataParsed;\r\n};","import axios from 'axios';\r\nimport { \r\n    SidaConsultaVariosProcessosJSONResponseSingle,\r\n     ListaInscricoesBefore,\r\n      SidaConsultaVariosProcessosJSONResponseSingleBefore,\r\n      ConsultaInscricaoSida,\r\n\r\n     } from './sidaResponseTypes';\r\nimport { parseSidaDate } from './parseDate';\r\n\r\nexport const getProcessoInfoSida = (host: string) => async (processosNumbers: string[]): Promise<any> => {\r\n    // console.log('pede');\r\n    const processosNumbersString = processosNumbers.join('|');\r\n    const resp = await axios.post(`${host}/pesquisa_sida_varios_processos`, processosNumbersString);\r\n    // const data = {};    \r\n    // console.log('\\n\\n\\n', resp.data, '\\n\\n\\n\\n');\r\n\r\n    const finalInfo = {};\r\n\r\n    const gruposDeProcessosArr = resp.data.split('###');\r\n\r\n    for (const grupaoStr of gruposDeProcessosArr) {\r\n        if (grupaoStr === '') { continue; }\r\n        const grupinhoArr = grupaoStr.split('$$$');\r\n        const processo = grupinhoArr[0];\r\n        const objCaracteristicas = {};\r\n        const linhas = grupinhoArr[1].split('\\n');\r\n        for (const linha of linhas) {\r\n            if (linha === '') { continue; }\r\n            const kv = linha.split('||>');\r\n            objCaracteristicas[kv[0]] = kv[1];\r\n        }\r\n        finalInfo[processo] = objCaracteristicas;\r\n    }\r\n\r\n    // console.log(finalInfo);\r\n    \r\n    return finalInfo;\r\n};\r\n\r\nexport const getProcessoInfoSidaNEW = \r\n    (host: string) => async (processosNumbers: string[]): Promise<SidaConsultaVariosProcessosJSONResponseSingle[]> => {\r\n    // console.log('getProcessoInfoSidaNEW');\r\n    const processosNumbersString = processosNumbers.join('|');\r\n    const resp = await axios.post(`${host}/pesquisa_sida_varios_processos`, processosNumbersString);\r\n    \r\n    // console.log('\\n\\n\\n **** getProcessoInfoSidaNEW\\n', resp.data, '\\n\\n\\n\\n');\r\n\r\n    const filteredArray: SidaConsultaVariosProcessosJSONResponseSingle[] = \r\n        resp.data.map((el: SidaConsultaVariosProcessosJSONResponseSingleBefore) => {\r\n         \r\n        const inscricoes: ConsultaInscricaoSida[] = \r\n            el.lista_inscrições.map((ins: ListaInscricoesBefore) => {\r\n            const dataObj = ins['Data Inscrição'] || ins['Data da Inscrição'] || null;\r\n            const numInsc = ins['Nº Inscrição'] || ins['Número de Inscrição'] || '';\r\n            \r\n            return {\r\n                cpfCnpj: ins['CPF/CNPJ'],\r\n                dataInsc: parseSidaDate(dataObj!),\r\n                procuradoriaResponsável: ins['Procuradoria Responsável'],\r\n                situação: ins.Situação,\r\n                valorConsolidado: ins['Valor Consolidado'],\r\n                valorInscrito: ins['Valor Inscrito'],\r\n                numInsc,\r\n            };\r\n        });\r\n        return {\r\n            listaInscrições: inscricoes,\r\n            processo: el.processo_key,\r\n            qtdInscricoes: el.qtd_inscricoes,\r\n        };\r\n\r\n    });\r\n    // console.log('transformado -> ', filteredArray);\r\n    return filteredArray;\r\n    \r\n};\r\n\r\nexport const getAguardaNumbersFromDB = async (db, list) => {\r\n    const tudo = await db.getAll();\r\n    const quaseTudo = tudo.filter(p => p.situacao === 'AGUARDA INSCRIÇÃO' && list.includes(p.numero))\r\n        .map(obj => obj.numero);\r\n    // console.log('quaseTudo -> ', quaseTudo.length, 'processos. --> ', quaseTudo);\r\n    return quaseTudo;\r\n};\r\n\r\nexport const verificaTudoNoSida = async (host, db, list) => {\r\n    const lista = await getAguardaNumbersFromDB(db, list);\r\n    // console.log(lista);\r\n    const infos = await getProcessoInfoSida(host)(lista);\r\n    // console.log('infos: ', infos);\r\n    Object.keys(infos).map(k => ({...infos[k], proc: k}))\r\n        .filter(obj => obj['Número de Inscrição:'] !== undefined)\r\n        .sort((a, b) => {\r\n            const dta = a['Data da Inscrição:'].split('/');\r\n            const dtb = b['Data da Inscrição:'].split('/');\r\n            return `${dta[2]}${dta[1]}${dta[0]}` > `${dtb[2]}${dtb[1]}${dtb[0]}` ? 1 : -1;            \r\n        })\r\n        .map(obj => {\r\n            // console.log(obj.proc, '\\t', obj['Número de Inscrição:'], '\\t', obj['Data da Inscrição:']);\r\n            return obj.proc;\r\n        });\r\n\r\n    // console.log('numero de processos inscritos:', quero.length);    \r\n    // console.log(quero.join(','));\r\n};\r\n\r\nexport const verificaTudoNoSidaNEW = async (host, db, list) => {\r\n    const lista = await getAguardaNumbersFromDB(db, list);\r\n    // console.log('lista_db: ', lista);\r\n    await getProcessoInfoSidaNEW(host)(lista);\r\n    // console.log('infos: ', infos);\r\n    \r\n};\r\n\r\nexport const initSidaWindowApenas = async (host) => {\r\n    return axios.get(`${host}/abre_sida_window`);\r\n};\r\n","import * as React from 'react';\r\nimport { useState } from 'react';\r\nimport { getProcessoInfoSidaNEW } from '../app_functions/getProcessoInfoSida';\r\nimport { parseSidaDate } from '../app_functions/parseDate';\r\n// import { sidaTestJSONString } from '../app_functions/sidaResponseTypes';\r\n\r\ninterface InscParseada {\r\n  cpfCnpj: string; // <<<\r\n  dataInsc: Date; // <<!!!! dataDaInscrição? |  dataInscrição?:\r\n  procuradoriaResponsavel: string; // <<<\r\n  situacao: string; // <<<\r\n  valorConsolidado: string; // <<<\r\n  valorInscrito: string; // <<<\r\n  numInsc: string;\r\n  foiDepois: boolean;\r\n}\r\n\r\ninterface ProcessoParseado {\r\n  dataEntrada: Date;\r\n  listaInscricoes: InscParseada[];\r\n  processo: string;\r\n  qtdInscricoes: number;\r\n}\r\n\r\nexport interface SidaConsultaProps {\r\n  host: any;\r\n  db: any;\r\n  list: any;\r\n  eprocessoData: { [p: string]: any };\r\n}\r\n\r\nexport interface SidaConsultaState {\r\n  consultasDeProcesso: ProcessoParseado[];\r\n  loading: boolean;\r\n}\r\n\r\nconst InscricaoConsulta = (props: { inscricaoConsulta: InscParseada }) => {\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <span className=\"\">{props.inscricaoConsulta.numInsc}</span>\r\n      </td>\r\n      <td style={{ width: '55%' }}>\r\n        <span className=\"is-small\">{props.inscricaoConsulta.situacao}</span>\r\n      </td>\r\n      <td style={{ width: '15%' }}>\r\n        <span className=\"\">{props.inscricaoConsulta.valorConsolidado}</span>\r\n      </td>\r\n      <td>\r\n        <span className=\"\">\r\n          {typeof props.inscricaoConsulta.dataInsc === 'object'\r\n            ? props.inscricaoConsulta.dataInsc.toLocaleDateString()\r\n            : new Date().toLocaleDateString()}\r\n        </span>\r\n      </td>\r\n      <td>\r\n        {props.inscricaoConsulta.foiDepois ? (\r\n          <span className=\"icon\">\r\n            <i className=\" far fa-check-circle\" />\r\n          </span>\r\n        ) : (\r\n            <span className=\"icon\">\r\n              <i className=\" fas fa-times-circle\" />\r\n            </span>\r\n          )}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ProcessoConsulta = (props: { consultaDeProcesso: ProcessoParseado, getSidaRecord, eprocessoData }) => {\r\n  const de =\r\n    typeof props.consultaDeProcesso.dataEntrada === 'object'\r\n      ? props.consultaDeProcesso.dataEntrada\r\n      : Date.parse('2018-11-17T14:37:21.896Z');\r\n\r\n  const diffDias =\r\n    (new Date().valueOf() - de.valueOf()) / (60 * 60 * 24 * 1000);\r\n\r\n  console.log('diffDidas:', diffDias);\r\n\r\n  // tslint:disable-next-line:align\r\n  const [insc, setInsc] = useState(undefined);\r\n  const [isShowDespacho, setDespacho] = useState(false);\r\n\r\n  const isDespachoEllegible =\r\n    props.consultaDeProcesso.listaInscricoes.length > 0 &&\r\n    props.consultaDeProcesso.listaInscricoes.every(i => i.situacao.includes(\"EXTIN\"))\r\n\r\n\r\n  const handleConsulta = ev => setInsc(ev.target.result)\r\n\r\n  return (\r\n\r\n\r\n    <div className=\"card\" style={{ marginBottom: '20px' }}>\r\n      <div\r\n        className=\"card-header\"\r\n        style={{ backgroundColor: 'rgb(225, 231, 236)' }}\r\n      >\r\n        <p className=\"card-header-title\" style={{ fontSize: '1.2em' }}>\r\n          {props.consultaDeProcesso.processo}{\" (\"}{props.eprocessoData['Data Entrada Atividade']})\r\n        </p>\r\n\r\n        {props.consultaDeProcesso.listaInscricoes.length > 0 &&\r\n          props.consultaDeProcesso.listaInscricoes.every(i => i.foiDepois) && (\r\n            <span className=\"tag is-success\">OK</span>\r\n          )}\r\n\r\n        {props.consultaDeProcesso.listaInscricoes.length === 0 &&\r\n          diffDias > 30 && (\r\n            <span className=\"icon has-text-danger\">\r\n              <i className=\"fas fa-exclamation-triangle\" />\r\n            </span>\r\n          )}\r\n      </div>\r\n      <div className=\"card-column\">\r\n        {props.consultaDeProcesso.listaInscricoes.length > 0 ? (\r\n          <div>\r\n            <table className=\"table is-bordered is-striped is-narrow is-fullwidth\">\r\n              <tbody>\r\n                {props.consultaDeProcesso.listaInscricoes.map(i => (\r\n                  <InscricaoConsulta key={i.numInsc} inscricaoConsulta={i} />\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n            <span>{'   '}Aguardando inscrever...</span>\r\n          )}\r\n      </div>\r\n      <div className=\"card-footer\">\r\n        {isDespachoEllegible && isShowDespacho ? (<div>\r\n          <p>Processo {props.consultaDeProcesso.processo} encaminhado via sistema TRATAPFN com {props.consultaDeProcesso.qtdInscricoes.toString()} inscrições ({props.consultaDeProcesso.listaInscricoes.map(io => io.numInsc.replace(/\\D/g, '')).join(', ')}), todas na situação \"{props.consultaDeProcesso.listaInscricoes[0].situacao}\", fato que impede a inscrição automática.</p>\r\n          <p><button className=\"button\" onClick={() => setDespacho(false)}>hide Despacho</button></p>\r\n        </div>\r\n        ) : <div><button className=\"button\" onClick={() => setDespacho(true)}>Despacho</button></div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default class SidaConsulta extends React.Component<\r\n  SidaConsultaProps,\r\n  SidaConsultaState\r\n  > {\r\n  constructor(props: SidaConsultaProps) {\r\n    super(props);\r\n    this.state = {\r\n      consultasDeProcesso: [],\r\n      //   consultasDeProcesso: sidaTestJSONString,\r\n      loading: false\r\n    };\r\n  }\r\n\r\n  //   public consultaTest = () => this.setState({consultasDeProcesso: JSON.parse(sidaInitialStateForTesting) as any});\r\n\r\n  public consulta = async () => {\r\n    this.setState({ loading: true });\r\n    // const consultasDeProcesso: ProcessoParseado[] = sidaInitialStateForTesting;\r\n    const consultasDeProcesso = await getProcessoInfoSidaNEW(this.props.host)(\r\n      this.props.list\r\n    );\r\n    const newConsultas: ProcessoParseado[] = consultasDeProcesso.map(c => {\r\n      const d = parseSidaDate(\r\n        this.props.eprocessoData[c.processo]['Data Entrada Atividade']\r\n      );\r\n\r\n      return {\r\n        listaInscricoes: c.listaInscrições.map(i => {\r\n          console.log(\r\n            'FOI DEPOIS:',\r\n            d < i.dataInsc,\r\n            'd:',\r\n            d.valueOf(),\r\n            'i.dataInsc:',\r\n            i.dataInsc.valueOf()\r\n          );\r\n          return {\r\n            foiDepois: d <= i.dataInsc,\r\n            cpfCnpj: i.cpfCnpj,\r\n            dataInsc: i.dataInsc,\r\n            procuradoriaResponsavel: i.procuradoriaResponsável,\r\n            situacao: i.situação,\r\n            valorConsolidado: i.valorConsolidado,\r\n            valorInscrito: i.valorInscrito,\r\n            numInsc: i.numInsc,\r\n\r\n          };\r\n        }),\r\n        dataEntrada: d,\r\n        processo: c.processo,\r\n        qtdInscricoes: c.qtdInscricoes\r\n      };\r\n    });\r\n    console.log('newConsultas: \\n\\n', newConsultas);\r\n    console.log(\r\n      'newConsultas JSON: \\n\\n',\r\n      JSON.stringify(newConsultas, undefined, 4)\r\n    );\r\n\r\n    newConsultas.forEach(processo => this.props.db.addOrAtualizaSida(processo))\r\n\r\n    this.setState({ consultasDeProcesso: newConsultas, loading: false });\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className=\"container\">\r\n          {' '}\r\n          <button className=\"button is-loading\">loadind</button>\r\n        </div>\r\n      );\r\n    }\r\n    if (this.state.consultasDeProcesso.length === 0) {\r\n      return (\r\n        <div className=\"container\">\r\n          <button className=\"button\" onClick={this.consulta}>\r\n            Consultar Processos No Sida\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        {this.state.consultasDeProcesso.map(p => (\r\n          <ProcessoConsulta key={p.processo} consultaDeProcesso={p} getSidaRecord={this.props.db.getSidaRecord} eprocessoData={this.props.eprocessoData[p.processo]} />\r\n        ))}\r\n        <div className=\"level\">\r\n          <textarea className=\"textarea\">\r\n            {this.state.consultasDeProcesso\r\n              .filter(p => p.listaInscricoes.length > 0)\r\n              .filter(p => p.listaInscricoes.every(i => i.foiDepois))\r\n              .map(p => p.processo)\r\n              .join(',')}\r\n          </textarea>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { JanelinhaEvent } from \"../app_functions/WSEventInfo_interfaces\";\r\nimport { JanelinhaEventInfo } from \"../app_functions/wsevents\";\r\nimport css from './janelinha_event.module.css';\r\n\r\nexport const JanelinhaEventsLog = (props: any) => {\r\n\r\n    const [events, setEvents] = useState<JanelinhaEvent[]>([])\r\n\r\n    React.useEffect(() => {\r\n        const action = (e) => {\r\n            console.log(e.detail)\r\n            setEvents((state) => [...state, e.detail])\r\n        }\r\n        window.addEventListener(JanelinhaEventInfo.tipo, action)\r\n        return () => window.removeEventListener(JanelinhaEventInfo.tipo, action)\r\n    })\r\n\r\n    return (\r\n        <section className=\"container\">\r\n\r\n            {events.map((e: JanelinhaEvent) =>\r\n\r\n                <div key={`${e.processoImpuro}${e.fase}${e.janId}`} className={css.event}>\r\n                    <span className=\"spanbase janid\">\r\n                        {e.janId}\r\n                    </span>\r\n                    <span className=\"spanbase proc\">\r\n                        {e.processoImpuro}\r\n                    </span>\r\n                    <span className=\"spanbase janid\">\r\n                        {e.fase}\r\n                    </span>\r\n                    <span className=\"spanbase janid\">\r\n                        {e.descricao}\r\n                    </span>\r\n                </div>\r\n            )}\r\n\r\n\r\n        </section>\r\n    )\r\n}","import * as React from 'react';\r\n// import hljs from 'highlight.js/lib/highlight';\r\n// import javascript from 'highlight.js/lib/languages/javascript';\r\n// hljs.registerLanguage('javascript', javascript);\r\n// import axios from 'axios';\r\nimport { postData } from '../app_functions/postData';\r\nimport * as Babel from '@babel/standalone';\r\n// import 'babel-plugin-transform-es2015-arrow-functions';\r\n// import * as BabelCore from '@babel/core';\r\nimport * as babelPluginBlockScoping from '@babel/plugin-transform-block-scoping';\r\nimport * as babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions';\r\nimport * as Prism from 'prismjs';\r\nimport { debounce } from '../app_functions/debounce';\r\nimport '../../node_modules/prismjs/themes/prism-solarizedlight.css';\r\n\r\n// tslint:disable:jsx-alignment\r\n\r\nexport interface EditorProps {\r\n  endpoints: string[];\r\n  on?: boolean;\r\n}\r\n\r\nexport interface EditorState {\r\n  transpiledCode: string;\r\n  highlightedCode: string;\r\n  code: string;\r\n  selectedEndPoint: string;\r\n  on: boolean;\r\n}\r\n\r\nexport default class Editor extends React.Component<EditorProps, EditorState> {\r\n    public debounceBabel: Function;\r\n    public codeBlockDisplayRef: React.RefObject<HTMLPreElement> = React.createRef();\r\n\r\n    constructor(props: EditorProps) {\r\n    super(props);\r\n    this.state = {\r\n      transpiledCode: '',\r\n      highlightedCode: '',\r\n      selectedEndPoint: props.endpoints[0],\r\n      code: `console.log('teste')\r\n      const massa = (a) => console.log('>>', a, '<<');\r\n      Object.keys({a: 1, b: 2}).map(k => massa(k)`,\r\n      on: this.props.on || false,\r\n    };\r\n\r\n    this.debounceBabel = debounce(this.transformBabel, 700, false);\r\n  }\r\n\r\n  public sendCodeToEndpoint = async () => {\r\n    console.log('. endpoint: ', this.state.selectedEndPoint);\r\n    const resp = await postData(this.state.selectedEndPoint, this.state.transpiledCode);\r\n    console.log(resp);\r\n  }\r\n\r\n  handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    console.log(e);\r\n    if (!e || !e.target || !e.target.value) {\r\n        console.log('algo falta');\r\n        return;\r\n    }\r\n    this.debounceBabel(e.target.value);\r\n  }\r\n\r\n  getHtml = () => {\r\n      return {\r\n          __html: this.state.highlightedCode\r\n      };\r\n  }\r\n\r\n  toggleEndpoint = () => {\r\n      const index = this.props.endpoints.findIndex(e => this.state.selectedEndPoint === e);\r\n      console.log(`Index ${index} do endpoint ${this.state.selectedEndPoint}`);\r\n      let newIndex: number;\r\n      if ((index + 1) === this.props.endpoints.length) {\r\n          newIndex = 0;\r\n      } else {\r\n          newIndex = index + 1;\r\n      }\r\n      this.setState({selectedEndPoint: this.props.endpoints[newIndex]});\r\n  }\r\n\r\n  transformBabel = (c: string) => {\r\n    let code: string;\r\n    try {\r\n        code = Babel.transform(c, { \r\n            presets: ['es2016'],\r\n            plugins: [\r\n                babelPluginBlockScoping,\r\n                babelPluginTransformArrowFunctions,\r\n                // 'transform-es2015-arrow-functions',\r\n            ]\r\n         }).code.replace(`'use strict'`, '').trim();\r\n        \r\n    } catch (error) {\r\n        console.log('erro babel transform try block');\r\n        return;\r\n    }\r\n    const high = Prism.highlight(code, Prism.languages.javascript, 'javascript' as any);\r\n    this.setState({\r\n        transpiledCode: code,\r\n        highlightedCode: high,\r\n    });\r\n  }\r\n\r\n  public render() {\r\n\r\n    const offDiv = (\r\n    <div \r\n      style={{\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: 2,\r\n      }}\r\n    >\r\n      <button onClick={() => this.setState({on: true})}>EDITOR</button>\r\n    </div>\r\n    );\r\n\r\n    return this.state.on ? (\r\n        // tslint:disable-next-line:no-unused-expression\r\n        <div style={{ padding: 2 }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'start',\r\n                justifyContent: 'center',\r\n                }}>\r\n        <div style={{display: 'flex', flexDirection: 'column', flex: 1}}>\r\n          <div>\r\n              <span><b>EndPoint:</b> </span>\r\n              <a onClick={this.toggleEndpoint}>{this.state.selectedEndPoint}</a>\r\n              <span>{'  '}</span>\r\n              <a onClick={() => this.setState({on: false})}> (close editor)</a>\r\n  \r\n          </div>\r\n        <textarea\r\n          id=\"editor\"\r\n          rows={20}\r\n          style={{\r\n              width: '100%',\r\n              padding: 10,\r\n              fontFamily: 'monospace',\r\n              fontSize: 17,\r\n              lineHeight: '1.8em',\r\n              backgroundColor: 'rgb(251, 251, 255)',\r\n              border: 0,\r\n              margin: 5,\r\n              flex: 1\r\n            }}\r\n            onChange={this.handleChange}\r\n            >\r\n          {this.state.code}\r\n        </textarea>\r\n        </div>\r\n        <div style={{width: '50%', padding: 4, margin: 5, backgroundColor: '#fcfdfe', flex: 1}}>\r\n          <pre\r\n            ref={this.codeBlockDisplayRef}\r\n            dangerouslySetInnerHTML={this.getHtml()}\r\n            />         \r\n        </div>\r\n\r\n        </div>\r\n        <button style={{ width: '100%' }} onClick={this.sendCodeToEndpoint}>\r\n          Mandar Código !\r\n        </button>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n      </div>\r\n    ) : offDiv;\r\n  }\r\n}\r\n","// tslint:disable\r\nexport function debounce(func, wait, immediate) {\r\n\tlet timeout;\r\n\treturn function() {\r\n        // @ts-ignore\r\n\t\tconst context = this, args = arguments;\r\n\t\tconst later = function() {\r\n\t\t\ttimeout = null;\r\n\t\t\tif (!immediate) func.apply(context, args);\r\n\t\t};\r\n\t\tconst callNow = immediate && !timeout;\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t\tif (callNow) func.apply(context, args);\r\n\t};\r\n};","import * as React from 'react';\r\n\r\ninterface Props {\r\n    dst: string;\r\n    copy: Function;\r\n    situacao: object;\r\n    separador: string;\r\n    botaoAtivo: boolean;\r\n    clicado: boolean;\r\n}\r\n\r\n// interface HProps {\r\n//     children: string;    \r\n// }\r\n\r\n// const Hx: React.SFC<HProps> = (props) => {\r\n//     return (\r\n//         <h2 \r\n//             style={{\r\n//                 display: 'inline-block',\r\n//                 color: '#ecc',\r\n//             }}\r\n//         >\r\n//         {' '}{props.children}{' '}\r\n//         </h2>\r\n//     );\r\n// };\r\n\r\nconst Listagem: React.SFC<Props> = React.memo((props) => {\r\n    const { dst, copy, situacao, separador, botaoAtivo, clicado } = props;\r\n    const arr = Object.keys(situacao).filter(\r\n        (numProc) => situacao[numProc] === dst\r\n    );\r\n    return arr.length > 0 ? (\r\n        <div className=\"listagem-div\">\r\n            <button\r\n                style={{\r\n                    display: 'inline-block',\r\n                    backgroundColor: botaoAtivo ? '#a0d6ff' : clicado ? 'rgba(255, 255, 255, 0)' : 'none',\r\n                    color: clicado ? 'rgb(137, 137, 137)' : 'black',\r\n                }}\r\n                onClick={() => copy(arr.join(separador), dst)}\r\n            > COPIAR {dst} ({arr.length})\r\n            </button>\r\n        </div>\r\n\r\n    ) : null;\r\n\r\n});\r\n\r\nexport default Listagem; ","// tslint:disable\r\nimport * as React from 'react';\r\n\r\nexport interface LoadingComponentProps {\r\n}\r\n\r\nexport interface LoadingComponentState {\r\n}\r\n\r\nexport default class LoadingComponent extends React.Component<LoadingComponentProps, LoadingComponentState> {\r\n  constructor(props: LoadingComponentProps) {\r\n    super(props);\r\n\r\n    // this.state = {\r\n\r\n    // };\r\n  }\r\n\r\n  // tslint:disable-next-line:member-ordering\r\n  rectStyle = {\r\n    fill: 'rgba(50, 50, 255, 1)',\r\n    stroke: 'rgb(255,255,255)',\r\n    strokeWidth: 1,\r\n  };\r\n\r\n  rectNodes: Array<SVGElement | null> = [\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n    null,\r\n  ];\r\n\r\n  componentDidMount() {\r\n    console.log('animation mounted');\r\n    // tslint:disable-next-line:no-unused-expression\r\n    if (!document) {\r\n      return;\r\n    }\r\n    const esse = document.getElementById('anim_svg');\r\n    if (!esse) {\r\n      return;\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('anim will unmount');\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div\r\n        className=\"loading-component\"\r\n      >\r\n        <svg id=\"anim_svg\" width=\"180\" height=\"50\">\r\n          <g ref={ref => this.rectNodes[0] = ref}> <rect x=\"0\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[1] = ref}> <rect x=\"15\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[2] = ref}> <rect x=\"30\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[3] = ref}> <rect x=\"45\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[4] = ref}> <rect x=\"60\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[5] = ref}> <rect x=\"75\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[6] = ref}> <rect x=\"90\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[7] = ref}> <rect x=\"105\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[8] = ref}> <rect x=\"120\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[9] = ref}> <rect x=\"135\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[10] = ref}> <rect x=\"150\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} /></g>\r\n          <g ref={ref => this.rectNodes[11] = ref}> <rect x=\"165\" y=\"0\" width=\"10\" height=\"50\" style={this.rectStyle} />        </g>\r\n        </svg>\r\n        <br />\r\n        <span>C A R R E G A N D O...</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { createContext } from 'react';\r\n\r\nexport type ManejoState = {\r\n  copiados: Set<string>;\r\n  errosDelete: Set<string>;\r\n  deletadosOk: Set<string>;\r\n};\r\n\r\nexport interface AppState {\r\n  situacao: object;\r\n  selecionado: string;\r\n  destinos: string[];\r\n  showInput: boolean;\r\n  paginaAtual: number;\r\n  totalPaginas: number;\r\n  carregando: boolean;\r\n  showGotoPageInput: boolean;\r\n  separador: string;\r\n  botaoClickAtivo: string;\r\n  copyList: string[];\r\n  botoesClickClicados: string[];\r\n  loadPDF: Function;\r\n  focaNaDivPrincipal: Function;\r\n  setState: Function;\r\n  processosList: string[];\r\n  manejo: {\r\n    copiados: Set<string>;\r\n    errosDelete: Set<string>;\r\n    deletadosOk: Set<string>;\r\n  };\r\n  manejar: Function;\r\n  loading: boolean;\r\n}\r\n\r\nexport const defaultState: AppState = {\r\n  showInput: false,\r\n  situacao: {},\r\n  selecionado: '0',\r\n  destinos: [\r\n    'REVISAO',\r\n    'AGUARDA INSCRIÇÃO',\r\n    'REQUERIMENTOS',\r\n    'INSCRIÇÃO-AJUIZAMENTO',\r\n  ],\r\n  paginaAtual: 0,\r\n  totalPaginas: 0,\r\n  carregando: false,\r\n  showGotoPageInput: false,\r\n  separador: ',',\r\n  botaoClickAtivo: '',\r\n  botoesClickClicados: [],\r\n  processosList: [],\r\n  copyList: [],\r\n  loadPDF: () => ({}),\r\n  focaNaDivPrincipal: () => ({}),\r\n  setState: () => ({}),\r\n  manejar: () => ({}),\r\n  manejo: {\r\n      copiados: new Set(),\r\n      errosDelete: new Set(),\r\n      deletadosOk: new Set(),\r\n    },\r\n  loading: false,\r\n};\r\n\r\nconst Context = createContext(defaultState);\r\n\r\nexport default Context;","import * as React from 'react';\r\nimport { dataSitu } from '../App';\r\nimport { getDigito } from '../app_functions/getDigitoCPF_CNPJ';\r\nimport Context from '../context';\r\n\r\ninterface ProcessoProps {\r\n    procObj: {\r\n        'Assunto COMPROT'?: string;\r\n        'CPF Responsável Atual'?: string;\r\n        'CPF Responsável Último'?: string;\r\n        'CPF/CNPJ Corresponsável'?: string;\r\n        'CPF/CNPJ Devedor Principal'?: string;\r\n        'Código da Equipe Atual'?: string;\r\n        'Código de Receita na Dívida Ativa'?: string;\r\n        'DEBCAD'?: string;\r\n        'Data Distribuição Última'?: string;\r\n        'Data Entrada Atividade'?: string;\r\n        'Data Entrada Unidade'?: string;\r\n        'Data Situação da Inscrição'?: string;\r\n        'Data da Atualização do Valor Atualizado da Inscrição'?: string;\r\n        'Data da Inscrição'?: string;\r\n        'Data do Protocolo'?: string;\r\n        'Idade Contribuinte'?: string;\r\n        'Indicador Grande Devedor'?: string;\r\n        'Indicadores'?: string;\r\n        'Informações'?: string;\r\n        'NI Contribuinte'?: string;\r\n        'Nome Atividade Atual'?: string;\r\n        'Nome Atividade Última'?: string;\r\n        'Nome Contribuinte'?: string;\r\n        'Nome Equipe Atual'?: string;\r\n        'Nome Equipe Última'?: string;\r\n        'Nome Responsável'?: string;\r\n        'Nome Tarefa Atual'?: string;\r\n        'Nome Unidade Atual'?: string;\r\n        'Nome Unidade Última'?: string;\r\n        'Nome Último Documento Confirmado'?: string;\r\n        'Número Processo'?: string;\r\n        'Número da Inscrição Derivada'?: string;\r\n        'Número de Inscrição'?: string;\r\n        'Número do Processo Judicial'?: string;\r\n        'Número do Processo Judicial da Inscrição'?: string;\r\n        'Número do Requerimento (SICAR-PGFN)'?: string;\r\n        'Porte Contribuinte'?: string;\r\n        'Processos Vinculados'?: string;\r\n        'Procuradoria Responsável'?: string;\r\n        'Procuradoria de Inscrição'?: string;\r\n        'Quantidade Volumes'?: string;\r\n        'Saldo na Situação Atual (Multa de Ofício)'?: string;\r\n        'Saldo na Situação Atual (Principal)'?: string;\r\n        'Situação'?: string;\r\n        'Situação da Inscrição'?: string;\r\n        'Tipo Processo'?: string;\r\n        'Todos'?: string;\r\n        'Tributo'?: string;\r\n        'Valor Atualizado da Inscrição'?: string;\r\n        'Valor Originário Lançado/Pleiteado (Principal)'?: string;\r\n        'Valor Processo'?: string;\r\n        'Valor Total das Inscrições'?: string;\r\n        'Valor do Crédito Consolidado'?: string;\r\n        'Valor do Crédito Lançado (Multa de Ofício)'?: string;\r\n        [dataSitu]?: Date;\r\n    };\r\n    processo: string;\r\n}\r\n\r\nconst withCache = function (fn: (s: string) => any, map: Map<string, any>) {\r\n\r\n    return function (s: string) {\r\n        if (map.has(s)) {\r\n            console.info('cached value')\r\n            const value = map.get(s)\r\n            return value\r\n        }\r\n        const result = fn(s)\r\n        console.info('   >   new key for cache >', s, result, arguments);\r\n        map.set(s, result)\r\n        return result\r\n    }\r\n}\r\n\r\nconst map1: Map<string, number> = new Map()\r\nconst map2: Map<string, string> = new Map()\r\n\r\nconst stringToNumber = withCache(function (s: string) {\r\n    let arr = Array.from(s);\r\n    const num = arr.reduce((pr, cu, i) => { return (cu.charCodeAt(0) + pr); }, 0);\r\n    console.log(num)\r\n    return num % 360;\r\n}, map1);\r\n\r\nconst getColor = withCache(function (situacao: string) {\r\n    let num = stringToNumber(situacao);\r\n    let color = `hsla(${num}, 100%, 96%, 0.9)`;\r\n    console.log(color)\r\n    return color;\r\n}, map2);\r\n\r\nconst Processo: React.SFC<ProcessoProps> = React.memo((props) => {\r\n    let { processo, procObj } = props;\r\n    if (!procObj) {\r\n        procObj = {};\r\n    }\r\n    const ultres = procObj['Nome Responsável'] || '';\r\n    const tarefa = procObj['Nome Tarefa Atual'] || '';\r\n    const dataEntrada = procObj['Data Entrada Atividade'] || '';\r\n    let dataSituacao = procObj[dataSitu];\r\n    let numeroBelo = processo;\r\n    if (procObj && procObj['Número Processo']) {\r\n        numeroBelo = (procObj['Número Processo'] as string).replace('D', '').trim();\r\n    }\r\n\r\n    const hojeVal = new Date().valueOf();\r\n    const dataEntraSplitted = dataEntrada.split('/');\r\n    const dataEntradaDate = new Date(`${dataEntraSplitted[1]}/${dataEntraSplitted[0]}/${dataEntraSplitted[2]}`);\r\n    const ehAntigaClassificacao = dataSituacao &&\r\n        (hojeVal - dataSituacao.valueOf()) > 1000 * 60 * 60 * 24 * 20; // 30d \r\n    const opa = dataSituacao &&\r\n        (dataSituacao.valueOf() - dataEntradaDate.valueOf()) < (1000 * 60 * 60); //\r\n    const ehAntigoProcesso =\r\n        Math.floor((hojeVal - dataEntradaDate.valueOf()) / (1000 * 60 * 60 * 24)); // 30d \r\n    const digito = procObj && procObj['NI Contribuinte'] && getDigito(procObj['NI Contribuinte']);\r\n    const cpfCnpj = procObj && procObj['NI Contribuinte'];\r\n\r\n    console.info(' *** ', props.processo)\r\n\r\n    return (\r\n        <Context.Consumer>\r\n            {({\r\n                selecionado,\r\n                situacao,\r\n                loadPDF,\r\n                setState,\r\n                focaNaDivPrincipal,\r\n                manejo,\r\n            }) => {\r\n                return (\r\n                    <span\r\n                        className=\"processo-div-component\"\r\n                    >\r\n                        {(ehAntigaClassificacao || ehAntigoProcesso > 28 || opa) && <span\r\n                            className=\"obsdata1\"\r\n                        >\r\n                            {ehAntigaClassificacao && 'Class Antiga\\n |'}\r\n                            {ehAntigoProcesso > 28 && 'Processo Antigo (' + ehAntigoProcesso + 'd)\\n | '}\r\n                            {opa && <span className=\"opa\">OPA!</span>}\r\n                        </span>}\r\n                        <span\r\n                            className=\"span-processo-title\"\r\n                            style={selecionado === processo ? {\r\n                                color: 'rgb(255, 255, 255)',\r\n                                fontSize: '1.2em',\r\n                                backgroundColor: '#f20052'\r\n                            } : {}}\r\n                            onClick={() => {\r\n                                loadPDF(processo);\r\n                                setState({ selecionado: processo }, focaNaDivPrincipal);\r\n                            }}\r\n                        >{numeroBelo}\r\n\r\n                        </span>{situacao[processo] &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex\"\r\n                                style={{\r\n                                    backgroundColor: getColor(situacao[processo]) as any,\r\n                                    border: '2px solid rgb(178, 189, 239)',\r\n                                    borderRadius: '12px',\r\n                                    fontSize: '0.6em',\r\n                                }}\r\n                            >\r\n                                {situacao[processo]}\r\n                            </div>}\r\n                        {ultres && <div className=\"div-processo-caracteristicas div-wrap-flex\">\r\n                            {ultres.split(' ')[0]}\r\n                        </div>}\r\n                        {tarefa && <div className=\"div-processo-caracteristicas div-wrap-flex\">\r\n                            {tarefa}\r\n                        </div>}\r\n                        {(situacao[processo] === 'REQUERIMENTOS') &&\r\n                            <div className=\"div-processo-caracteristicas div-wrap-flex\">\r\n                                {cpfCnpj}{' '}<div className=\"div-processo-caracteristicas-digito\">{digito}</div>\r\n                            </div>}\r\n\r\n                        {dataSituacao &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex\"\r\n                                style={{ fontSize: '0.8em' }}\r\n                            >\r\n                                {dataSituacao.toLocaleDateString()}\r\n                            </div>\r\n                        }\r\n                        {dataEntrada &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex\"\r\n                                style={{ fontSize: '0.85em' }}\r\n                            >\r\n                                {dataEntrada}{' '}({ehAntigoProcesso}d)\r\n                            </div>\r\n                        }\r\n                        {manejo.copiados.has(processo) && !manejo.deletadosOk.has(processo) &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex obscopiado\"\r\n                            >\r\n                                COPIADO\r\n                    </div>}\r\n                        {manejo.errosDelete.has(processo) &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex obserro\"\r\n                            >\r\n                                ERRO DELETE :(\r\n                    </div>}\r\n                        {manejo.deletadosOk.has(processo) &&\r\n                            <div\r\n                                className=\"div-processo-caracteristicas div-wrap-flex obsdeletado\"\r\n                            >\r\n                                DELETADO\r\n                    </div>}\r\n\r\n                    </span>\r\n                );\r\n            }}\r\n        </Context.Consumer>\r\n    );\r\n});\r\nexport default Processo;","export const getDigito = (CPF_OU_CNPJ: string) => {\r\n    // return CPF_OU_CNPJ;\r\n    const semNada = CPF_OU_CNPJ.replace(/\\D/g, '');\r\n    switch (semNada.length) {\r\n        case 11: // cpf\r\n            return semNada.substr(6, 2);\r\n        case 14: // cnpj\r\n            return semNada.substr(6, 2);\r\n        default:\r\n            return '??';\r\n    }\r\n};","import * as React from 'react';\r\n\r\nconst handleWorkerMessages = function (ev: MessageEvent) {\r\n    const messageParsed: { tipo: string, payload: any } = ev.data\r\n    console.log('WORKER DATA: ', messageParsed.tipo, ' : ', messageParsed);\r\n    const evv: any = new CustomEvent(messageParsed.tipo, { detail: messageParsed.payload })\r\n    window.dispatchEvent(evv)\r\n}\r\n\r\nexport const WorkerComponentHandler = (props: { wsPort: string, dbVersion: number, dbName: string }) => {\r\n\r\n    React.useEffect(() => {\r\n        const workerAddr = `${process.env.PUBLIC_URL}/sw/sw_src/worker.js`\r\n        console.log('workerAddr: ', workerAddr);\r\n        const worker: Worker = new Worker(workerAddr) as any;\r\n        console.log(worker)\r\n        // @ts-ignore\r\n        worker.onerror = function (e) {\r\n            console.error(\"ERROR WORKER => \", e)\r\n        }\r\n        worker.onmessage = function (e) {\r\n            handleWorkerMessages(e)\r\n        }\r\n        worker.postMessage({ tipo: \"WEBSOCKET_PORT\", payload: `ws://localhost:${props.wsPort}/ws` })\r\n        worker.postMessage({ tipo: \"DATABASE_INFO_START\", payload: { name: props.dbName, version: props.dbVersion } })\r\n        // CLEAN CODE\r\n    }, [])\r\n\r\n    return null\r\n}\r\n\r\n","// import Linha from './Linha';\nimport { PDFDocumentProxy, PDFJSStatic, PDFPageProxy, PDFPageViewport as IPDFPageViewport } from \"pdfjs-dist\";\nimport * as React from \"react\";\nimport { createRef, RefObject } from \"react\";\nimport \"./App.css\";\nimport { addSituacao } from \"./app_functions/addSituacao\";\nimport { DB } from \"./app_functions/db\";\nimport { deleteArquivos } from \"./app_functions/deleteArquivos\";\nimport { handlePress } from \"./app_functions/handlePress\";\nimport { manejar } from \"./app_functions/manejar\";\nimport { JanelinhaProcessoInfo } from \"./app_functions/WSEventInfo_interfaces\";\nimport { ButtonMutex } from \"./components/button_mutex\";\nimport { Downloader } from \"./components/downloader\";\nimport SidaConsulta from \"./components/handleSida\";\nimport { JanelinhaEventsLog } from \"./components/janelinha_events\";\nimport JSEditor from \"./components/jseditor\";\nimport Listagem from \"./components/listagem_dummy\";\nimport LoadingComponent from \"./components/loading\";\nimport Processo from \"./components/processo\";\nimport Context, { AppState, defaultState } from \"./context\";\nimport { WorkerComponentHandler } from \"./web_workers/web_worker_component\";\n\ninterface PDFPageViewport extends IPDFPageViewport {\n  transform: number[];\n}\ninterface AppProps {\n  data: object;\n  PDFJS: PDFJSStatic;\n  portServer: string;\n}\n\ninterface CurrentPDF {\n  pdf: PDFDocumentProxy | null;\n  page: PDFPageProxy | null;\n  zoom: number;\n  verticalOffset: number;\n  totalPages: number | null;\n  pageNumber: number | null;\n  canvasHeight: number;\n  canvasWidth: number;\n  numeroProcesso: string;\n}\n\ninterface CustomViewPort extends PDFPageViewport {\n  transform: number[];\n}\n\nconst META: string = \"__META__\";\nexport const dataSitu = \"dataSitu\";\n\nclass App extends React.Component<AppProps, AppState> {\n  public eprocessoData: object;\n  public colecao: object;\n  public input: HTMLInputElement | null;\n  public gotoinput: HTMLInputElement | null;\n  public PDF: PDFJSStatic;\n  public localStorageKey: string;\n  public sortKey: string;\n  public handlePress: Function;\n  public addSituacao: Function;\n  public deleteArquivos: Function;\n  public ws: WebSocket;\n  public db: DB;\n  public dbVersion: number;\n  private textarea: HTMLTextAreaElement | null;\n  private canvas: HTMLCanvasElement | null;\n  private outerDiv: HTMLDivElement | null;\n  private divPrincipal: RefObject<HTMLDivElement>;\n  private canvasRenderContext2D: CanvasRenderingContext2D | null;\n  private currentPdf: CurrentPDF;\n  private interval: number;\n\n  constructor(props: AppProps) {\n    super(props);\n    this.deleteArquivos = deleteArquivos(\n      this,\n      `http://localhost:${props.portServer}/deletefiles`\n    );\n    this.localStorageKey =\n      this.props.data[META].codEquipe + this.props.data[META].pasta_download ||\n      \"none\";\n    console.log(\"localStorageKey: \", this.localStorageKey);\n    this.eprocessoData = this.props.data;\n    this.atualizaColecao = this.atualizaColecao.bind(this);\n    this.handlePress = handlePress(this);\n    this.addSituacao = addSituacao(this);\n    this.colecao = {};\n    this.PDF = this.props.PDFJS;\n    this.loadPDF = this.loadPDF.bind(this);\n    this.focaNaDivPricincipal = this.focaNaDivPricincipal.bind(this);\n    console.log(this.props);\n    this.currentPdf = {\n      pdf: null,\n      page: null,\n      zoom: 1.5,\n      verticalOffset: 0,\n      pageNumber: null,\n      totalPages: null,\n      canvasHeight: window.outerHeight * 0.95,\n      canvasWidth: window.outerWidth * 0.95,\n      numeroProcesso: \"0\"\n    };\n    this.divPrincipal = createRef();\n    this.sortKey = \"_s\";\n\n    this.state = {\n      ...defaultState,\n      processosList: [],\n      situacao: {},\n      loadPDF: this.loadPDF,\n      focaNaDivPrincipal: this.focaNaDivPricincipal,\n      setState: this.setState.bind(this),\n      manejar: manejar(this)\n    };\n\n    delete this.eprocessoData[META];\n    this.dbVersion = 3\n    this.db = new DB(this.localStorageKey, this.dbVersion);\n    console.log(\">>>>>\", this.db);\n\n    this.db.setup().then(() => {\n      console.log(\"foi\");\n      this.db.getAll().then((obj: any) => {\n        if (!(obj instanceof Array)) {\n          return;\n        }\n        let processosList = Object.keys(this.eprocessoData);\n        const newSituacao = {};\n        const agora = new Date().valueOf();\n        for (let i = 0; i < processosList.length; i++) {\n          const ProcObj = obj.find(a => a.numero === processosList[i]);\n          console.log(\"********\", processosList[i], ProcObj);\n          if (ProcObj) {\n            if (agora - ProcObj.data > 1000 * 60 * 60 * 24 * 90) {\n              // 90d\n              console.log(\n                \"antigo????\",\n                ProcObj.data,\n                agora,\n                agora - ProcObj.data\n              );\n              this.db.deleteRecord(ProcObj.numero);\n              continue;\n            }\n            newSituacao[ProcObj.numero] = ProcObj.situacao;\n            this.eprocessoData[processosList[i]][dataSitu] = ProcObj.data;\n            switch (ProcObj.situacao) {\n              case \"AGUARDA INSCRIÇÃO\":\n                this.eprocessoData[processosList[i]][this.sortKey] =\n                  \"9999999999999999\";\n                break;\n              default:\n                this.eprocessoData[processosList[i]][this.sortKey] =\n                  \"999999\" + ProcObj.situacao;\n                break;\n            }\n          } else {\n            this.eprocessoData[processosList[i]][this.sortKey] =\n              \"00000\" +\n              this.eprocessoData[processosList[i]][\"Nome Equipe Última\"] ||\n              \"0\";\n          }\n        }\n\n        console.log(\"processosList -> \", processosList);\n        console.log(\"this.eprocessoData -> \", this.eprocessoData);\n\n        let newProcessosList = processosList.sort((a, b) => {\n          if (\n            this.eprocessoData[a] &&\n            this.eprocessoData[b] &&\n            this.eprocessoData[a][this.sortKey] >\n            this.eprocessoData[b][this.sortKey]\n          ) {\n            return 1;\n          }\n          return -1;\n        });\n\n        this.setState({\n          situacao: newSituacao,\n          processosList: newProcessosList\n        });\n      });\n    });\n  }\n\n  atualizaColecao = (key, node) => {\n    this.colecao[key] = node;\n  };\n\n  copy = (str: string, dstStr: string = \"\") => {\n    (this.textarea as HTMLTextAreaElement).focus();\n    (this.textarea as HTMLTextAreaElement).value = str;\n    (this.textarea as HTMLTextAreaElement).select();\n    document.execCommand(\"copy\");\n    const listaProcessos = str.split(\",\");\n    console.log(\"copiar \", str, listaProcessos);\n    console.log(\"copiar antes do forEach\");\n    this.setState(s => {\n      let newCopiados = new Set(s.manejo.copiados.values());\n      listaProcessos.forEach(proc => newCopiados.add(proc));\n      return {\n        botaoClickAtivo: dstStr,\n        copyList: listaProcessos,\n        manejo: {\n          ...s.manejo,\n          copiados: newCopiados\n        }\n      };\n    });\n    if (!(dstStr === \"\")) {\n      this.setState(s => ({\n        botoesClickClicados: s.botoesClickClicados.some(d => d === dstStr)\n          ? s.botoesClickClicados\n          : s.botoesClickClicados.concat(dstStr)\n      }));\n    }\n    (this.textarea as HTMLTextAreaElement).blur();\n  };\n\n  goToPageInputAction = ev => {\n    console.log(\"addSitucao\", ev);\n    if (!(ev.nativeEvent.keyCode === 13 || ev.nativeEvent.keyCode === 27)) {\n      return;\n    }\n    if (ev.nativeEvent.keyCode === 27) {\n      this.setState({ showGotoPageInput: false }, this.focaNaDivPricincipal);\n      return;\n    }\n    let novo = parseInt((this.gotoinput as HTMLInputElement).value, 10);\n    if (novo < 0) {\n      novo = this.state.totalPaginas + 1 + novo;\n    }\n    this.setState({ showGotoPageInput: false }, () => this.pdfGotoPage(novo));\n  };\n\n  loadPDF = async (pdfStr: string) => {\n    if (Object.keys(this.eprocessoData).length === 0) {\n      console.error('data FAIL', this.eprocessoData)\n      return\n    }\n    if (this.interval) {\n      window.clearInterval(this.interval);\n    }\n    this.setState({ carregando: true, loading: true });\n    this.canvas.width = this.canvas.width; // reset canvas\n    console.log(\"loadPDF\");\n    if (this.canvas === null) {\n      return;\n    }\n    // this.animaCanvas();\n    // let pdfR: PDFDocumentProxy;\n    // console.log(this.PDF);\n\n    try {\n      this.currentPdf.numeroProcesso = pdfStr;\n      const pdf = await (this.PDF as any).getDocument(\n        `http://localhost:${this.props.portServer}/pdf/${pdfStr}.pdf`\n      );\n      console.log(\n        \"\\n\\nMUDANÇA DE PAGINA:\",\n        pdf,\n        typeof pdf,\n        pdf.numPages,\n        \"\\n\\n\\n\"\n      );\n      if (!(this.currentPdf.numeroProcesso === pdfStr)) {\n        console.error(\n          `Erro! Promessa do PDF atrasou. \n        PDF atual: ${this.currentPdf.numeroProcesso}. PDF carrgeado: ${pdfStr}`\n        );\n        throw \"Erro de carregamento - atraso\";\n      }\n      this.currentPdf.pdf = pdf;\n      let pageNumber = pdf.numPages;\n      this.currentPdf.totalPages = pageNumber;\n      this.pdfGotoPage(pageNumber);\n      this.setState({\n        totalPaginas: pageNumber,\n        paginaAtual: pageNumber,\n        loading: false\n      });\n    } catch (error) {\n      console.log(`Não existe o pdf ${pdfStr}`);\n      if (this.interval) {\n        window.clearInterval(this.interval);\n      }\n      if (!this.canvasRenderContext2D) {\n        return;\n      }\n      this.canvasRenderContext2D.fillStyle = \"#eef\";\n      this.canvasRenderContext2D.fillRect(0, 0, 1000, 1000);\n      this.canvasRenderContext2D.fillStyle = \"#990000\";\n      this.canvasRenderContext2D.strokeStyle = \"#000\";\n      this.canvasRenderContext2D.font = \"48px Arial\";\n      this.canvasRenderContext2D.fillText(`${pdfStr} não baixado`, 100, 300);\n      this.eprocessoData[pdfStr][this.sortKey] =\n        this.eprocessoData[pdfStr][this.sortKey] + 15;\n      this.setState(s => {\n        let newProcessosList = s.processosList.sort((a, b) => {\n          if (\n            this.eprocessoData[a][this.sortKey] >\n            this.eprocessoData[b][this.sortKey]\n          ) {\n            return 1;\n          }\n          return -1;\n        });\n        return { processosList: newProcessosList };\n      });\n    }\n  };\n\n  botaSituacaoNoCanvas = () => {\n    // setTimeout(\n    //   () => {\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D).fillStyle = `rgba(255, 10, 10, 0.27)`;\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D).font = '95px Arial Black';\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D).textAlign = 'center';\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D).rotate(-40 * Math.PI / 180);\n    // const situacao: string = this.state.situacao[this.state.selecionado] || '';\n    // const canvas = this.canvas || {width: 500, height: 500};\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D)\n    // .fillText(`${situacao}`, -180, (canvas.height / 2) - 130);\n    // (this.canvasRenderContext2D as CanvasRenderingContext2D).setTransform(1, 0, 0, 1, 0, 0);\n    // },\n    //   0);\n  };\n\n  animaCanvas = () => {\n    const qq = Math.floor(Math.random() * 100);\n    const ww = Math.floor(Math.random() * 100);\n    (this\n      .canvasRenderContext2D as CanvasRenderingContext2D).fillStyle = `rgba(${ww}, ${qq}, ${3 *\n      qq -\n      ww}, 0.1)`;\n    this.interval = window.setInterval(() => {\n      (this\n        .canvasRenderContext2D as CanvasRenderingContext2D).fillStyle = `rgba(${ww}, ${qq}, ${3 *\n        qq -\n        ww}, 0.1)`;\n      const x = Math.floor(Math.random() * 720);\n      const y = Math.floor(Math.random() * 720);\n      const q = Math.floor(Math.random() * 100);\n      const w = Math.floor(Math.random() * 100);\n      (this.canvasRenderContext2D as CanvasRenderingContext2D).fillRect(\n        x,\n        y,\n        x + q,\n        y + w\n      );\n      (this.canvasRenderContext2D as CanvasRenderingContext2D).fillRect(\n        x,\n        y,\n        x - q,\n        y - w\n      );\n      (this.canvasRenderContext2D as CanvasRenderingContext2D).fillRect(\n        y,\n        x,\n        x + q,\n        y + w\n      );\n      (this\n        .canvasRenderContext2D as CanvasRenderingContext2D).fillStyle = `rgba(0, 0, 0, 0.5)`;\n      (this.canvasRenderContext2D as CanvasRenderingContext2D).font =\n        \"60px sans-serif\";\n      (this.canvasRenderContext2D as CanvasRenderingContext2D).fillText(\n        `Carregando`,\n        250,\n        160\n      );\n    }, 300);\n  };\n\n  async pdfGotoPage(pageNumber: number) {\n    if (this.currentPdf.pageNumber === pageNumber) {\n      return\n    }\n    console.group(\"pdfGoTOpage\");\n    if (!this.currentPdf.pdf) {\n      console.log(\"PDF não carregado\");\n      console.groupEnd();\n      return;\n    }\n    this.currentPdf.pageNumber = pageNumber;\n    const page = await this.currentPdf.pdf.getPage(pageNumber);\n    this.currentPdf.page = page;\n    let viewport: any = page.getViewport(this.currentPdf.zoom);\n    let contents = await page.getTextContent();\n    console.log(\"contents:\", contents);\n\n    let x = 0;\n    if (viewport.width > this.currentPdf.canvasWidth) {\n      x = -(viewport.width - this.currentPdf.canvasWidth) / 2;\n    }\n    let y = viewport.height;\n    if (viewport.height > this.currentPdf.canvasHeight) {\n      y =\n        -(viewport.height - this.currentPdf.canvasHeight) / 2 + viewport.height;\n    }\n\n    console.log(x, y);\n    console.log(\"viewPort Antes\", viewport);\n    viewport.transform[4] = x;\n    viewport.transform[5] = y + this.currentPdf.verticalOffset;\n\n    console.log(\"viewPort Depois\", viewport);\n\n    let renderContext = {\n      canvasContext: this.canvasRenderContext2D as CanvasRenderingContext2D,\n      viewport: viewport\n    };\n    console.log(\"Novo Render Context\", renderContext);\n    window.clearInterval(this.interval);\n    const renderTask = await page.render(renderContext).promise\n\n    console.log(\"renderTask\", renderTask);\n    console.log(\"renderContext\", renderContext);\n    console.log(\"page\", page);\n    console.groupEnd();\n    this.setState(\n      s => {\n\n        if (pageNumber === s.paginaAtual) {\n          return null\n        }\n\n        return { paginaAtual: pageNumber, carregando: false, loading: false }\n      },\n      () => {\n        this.focaNaDivPricincipal();\n        this.botaSituacaoNoCanvas();\n      }\n    );\n  }\n\n  pdfAumentaZoom() {\n    let atual = this.currentPdf.zoom;\n    let futuro = atual + 0.2;\n    this.currentPdf.zoom = futuro;\n    this.pdfGotoPage(this.currentPdf.pageNumber as number);\n  }\n\n  pdfDiminuiZoom() {\n    let atual = this.currentPdf.zoom;\n    let futuro = atual - 0.2;\n    this.currentPdf.zoom = futuro;\n    this.pdfGotoPage(this.currentPdf.pageNumber as number);\n  }\n\n  pdfSobeVisualizacao() {\n    this.currentPdf.verticalOffset = this.currentPdf.verticalOffset - 150;\n    this.pdfGotoPage(this.currentPdf.pageNumber as number);\n  }\n\n  pdfBaixaVisualizacao() {\n    this.currentPdf.verticalOffset = this.currentPdf.verticalOffset + 150;\n    this.pdfGotoPage(this.currentPdf.pageNumber as number);\n  }\n\n  pdfPagProxima() {\n    if (!this.currentPdf.pageNumber) {\n      return;\n    }\n    if (this.currentPdf.pageNumber === this.currentPdf.totalPages) {\n      return;\n    }\n    this.pdfGotoPage(this.currentPdf.pageNumber + 1);\n  }\n\n  pdfPagAnterior() {\n    if (!this.currentPdf.pageNumber) {\n      return;\n    }\n    if (this.currentPdf.pageNumber === 1) {\n      return;\n    }\n    this.pdfGotoPage(this.currentPdf.pageNumber - 1);\n  }\n\n  focaNaDivPricincipal() {\n    console.log(\"focaNaDivPricncipal()\", document.activeElement);\n    if (!this.divPrincipal.current) {\n      console.log(\"owxe...\");\n      return;\n    }\n    this.divPrincipal.current.focus();\n    console.log(\" + focaNaDivPricncipal() >>> \", document.activeElement);\n  }\n\n  limpaSituacao = () => {\n    this.setState(s => {\n      let newSituacao = s.situacao;\n      delete newSituacao[s.selecionado];\n      return { situacao: newSituacao };\n    });\n  };\n\n  componentDidMount() {\n    if (this.canvas) {\n      this.canvas.height = this.currentPdf.canvasHeight;\n      this.canvas.width = this.currentPdf.canvasWidth;\n      this.canvasRenderContext2D = this.canvas.getContext(\"2d\");\n      console.log(this.canvasRenderContext2D);\n    }\n  }\n\n  render() {\n\n    const posWidth = window.innerWidth / 2;\n    const posHeight = window.innerHeight / 2;\n\n    const divCanvas = (\n      <div\n        className=\"div-canvas-situacao\"\n        style={{\n          left: posWidth + Math.floor(Math.random() * 10),\n          top: posHeight - 500 + Math.floor(Math.random() * 10),\n          display: this.state.loading ? 'none' : 'block'\n        }}\n      >\n        {this.state.situacao[this.state.selecionado]}\n      </div>\n    );\n\n    const todasSitu = Object.keys(this.state.situacao).reduce(\n      (acc, atu) => acc.add(this.state.situacao[atu]),\n      new Set()\n    );\n\n    this.state.destinos.forEach(destino => {\n      todasSitu.add(destino);\n    });\n\n    console.log(\"TODASSITU --> \", todasSitu, this.outerDiv);\n    return (\n      <Context.Provider value={this.state}>\n        {this.state.loading && <LoadingComponent />}\n        <div\n          ref={this.divPrincipal}\n          className=\"App\"\n          tabIndex={0}\n          onKeyDown={e => this.handlePress(e)}\n          style={{ position: \"relative\", maxWidth: \"100vw\" }}\n        >\n          <DocInfo db={this.db} pagAtual={this.state.paginaAtual} processo={this.state.selecionado} />\n\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              flexDirection: \"column\"\n            }}\n          >\n            <div id=\"outer_div\" ref={node => (this.outerDiv = node)}>\n              {divCanvas}\n              <canvas\n                style={{ zIndex: 2 }}\n                ref={n => (this.canvas = n)}\n                id=\"pdfcanvas\"\n              />\n            </div>\n\n            <div className=\"div-wrap-flex\">\n              {this.state.processosList.map(proc => (\n                <Processo\n                  key={\"lis\" + proc}\n                  processo={proc}\n                  procObj={this.eprocessoData[proc]}\n                />\n              ))}\n            </div>\n          </div>\n\n          <div\n            className=\"div-wrap-flex botoes-copiar-div\"\n            style={{ margin: \"1em\" }}\n          >\n            {Array.from(todasSitu).map((dst: any) => {\n              return (\n                <Listagem\n                  key={\"lis_\" + dst}\n                  dst={dst}\n                  copy={this.copy}\n                  situacao={this.state.situacao}\n                  separador={this.state.separador}\n                  botaoAtivo={dst === this.state.botaoClickAtivo}\n                  clicado={this.state.botoesClickClicados.some(s => s === dst)}\n                />\n              );\n            })}\n          </div>\n          <button\n            onClick={() =>\n              this.setState(s => ({\n                separador: s.separador === \",\" ? \"\\n\" : \",\"\n              }))\n            }\n          >\n            Separador: {this.state.separador}\n          </button>\n          <button\n            onClick={() => this.deleteArquivos(this.state.copyList.join(\",\"))}\n          >\n            deletar {this.state.botaoClickAtivo}\n          </button>\n          <textarea\n            style={{\n              margin: \"0px\",\n              width: \"100%\",\n              height: \"5em\",\n              border: \"2px solid rgb(169, 169, 169)\",\n              backgroundColor: \"rgb(240, 245, 255)\",\n              padding: \"1em\",\n              boxSizing: \"border-box\",\n              resize: \"vertical\"\n            }}\n            ref={node => (this.textarea = node)}\n          />\n          {this.state.showInput && (\n            <div\n              style={{\n                position: \"fixed\",\n                right: 30,\n                top: 100,\n                margin: \"auto\",\n                padding: 20,\n                backgroundColor: \"#003876\",\n                boxShadow: \"15px 15px 20px #000\",\n                zIndex: 4\n              }}\n            >\n              <input\n                ref={node => (this.input = node)}\n                onKeyDown={e => this.addSituacao(e)}\n                style={{\n                  fontSize: \"3em\",\n                  padding: 10\n                }}\n              />\n            </div>\n          )}\n\n          {this.state.showGotoPageInput && (\n            <div\n              style={{\n                position: \"fixed\",\n                right: 30,\n                bottom: 200,\n                margin: \"auto\",\n                padding: 20,\n                backgroundColor: \"#003876\",\n                boxShadow: \"15px 15px 20px #000\",\n                zIndex: 4\n              }}\n            >\n              <input\n                ref={node => (this.gotoinput = node)}\n                onKeyDown={this.goToPageInputAction}\n                style={{\n                  fontSize: \"4em\",\n                  padding: 10\n                }}\n                size={5}\n              />\n            </div>\n          )}\n          <div style={{ margin: \"auto\" }}>\n            <SidaConsulta\n              host={`http://localhost:${this.props.portServer}`}\n              db={this.db}\n              list={Object.keys(this.state.situacao)\n                .filter(n => this.state.situacao[n] === \"AGUARDA INSCRIÇÃO\")\n                .map(n => n)}\n              eprocessoData={this.props.data}\n            />\n          </div>\n\n          <InfoHeader\n            paginaAtual={this.state.paginaAtual}\n            selecionado={this.state.selecionado}\n            totalPaginas={this.state.totalPaginas}\n            situacao={this.state.situacao[this.state.selecionado]}\n            loading={this.state.loading}\n          />\n          <BottomInfo\n            processosListLength={this.state.processosList.length}\n            situacaolength={Object.keys(this.state.situacao).length}\n            processoObj={this.eprocessoData[this.state.selecionado]}\n\n          />\n\n\n\n          <JSEditor\n            endpoints={[\n              `http://localhost:${this.props.portServer}/eval_js`,\n              `http://localhost:${this.props.portServer}/eval_sida_window_js`\n            ]}\n            on={false}\n          />\n          <br />\n          <br />\n          <br />\n          <JanelinhaEventsLog />\n          <ButtonMutex portServer={this.props.portServer} />\n          <br />\n          <br />\n          <br />\n          <WorkerComponentHandler wsPort={this.props.portServer} dbVersion={this.dbVersion} dbName={this.localStorageKey} />\n          <Downloader />\n\n        </div>\n      </Context.Provider>\n    );\n  }\n}\n\nconst BottomInfo = React.memo((props: {\n  situacaolength: number,\n  processosListLength: number,\n  processoObj: any\n}) => {\n  return (\n    <div\n      className=\"bottom-info\"\n    >\n      <div\n        style={{\n          backgroundColor:\n            props.situacaolength <\n              props.processosListLength\n              ? \"rgba(0, 0, 0, 0.3)\"\n              : \"rgba(255, 100, 100, 0.6)\"\n        }}\n      >\n        {props.situacaolength}\n        {\" / \"}\n        {props.processosListLength} processos.\n            </div>\n\n      <div>\n        <span\n          style={{\n\n            color: \"#fff\",\n            backgroundColor: \"rgba(0, 0, 0, 0.4)\"\n          }}\n        >\n          {props.processoObj && props.processoObj[\n            \"Nome Último Documento Confirmado\"\n          ]}\n        </span>\n        <span\n          style={{ color: \"#000\", backgroundColor: \"rgba(255, 255, 255, 0.4)\" }}\n        >\n          {props.processoObj && props.processoObj[\n            \"Nome Equipe Última\"\n          ]}\n        </span>\n        <span\n          style={{ color: \"#fff\", backgroundColor: \"rgba(100, 100, 100, 0.4)\" }}\n        >\n          {props.processoObj && props.processoObj[\n            \"Nome Contribuinte\"\n          ]}\n        </span>\n      </div>\n    </div>\n  )\n})\n\nconst InfoHeader = React.memo(function (props: {\n  paginaAtual: number,\n  totalPaginas: number,\n  selecionado: string,\n  situacao: string,\n  loading: boolean,\n}) {\n  if (props.loading) {\n    return <div\n      className=\"header-info-loading\"\n    >\n      <h1 className=\"title is-6\">\n        CARREGANDO...\n      </h1>\n    </div>\n  }\n  return (<div\n    className=\"header-info\"\n  >\n    <h1 className=\"title is-6\">\n\n      {props.paginaAtual}\n      {\" / \"}\n      {props.totalPaginas}\n      {\" - \"}\n      {props.selecionado}\n      {props.situacao && \"    |  \"}\n      {props.situacao}\n    </h1>\n\n  </div>)\n})\n\nconst DocInfo = function (props: { db: any, pagAtual: number, processo: string }) {\n  const [doc, setDoc] = React.useState<string>('')\n  const [ant, setAnt] = React.useState<string>('')\n  const [i, setIni] = React.useState<number>(0)\n\n  console.log('%c props', 'background-color: black; color: white', props)\n  React.useEffect(() => {\n    (async () => {\n      console.log('%c ...', 'color: red')\n      const obj: JanelinhaProcessoInfo | undefined = await props.db.getProcessoDocs(props.processo)\n      if (obj === undefined) {\n        setDoc('')\n        return\n      }\n      let indice = obj.infos.length - 1\n      if (indice < 1) {\n        return\n      }\n      while (true) {\n        if (indice < 0) {\n          setDoc('')\n          return\n        }\n        const sub = obj.infos[indice]\n        console.log('sub --> ', sub, indice)\n        if (sub.pag_inicio <= props.pagAtual && sub.pag_fim >= props.pagAtual) {\n          setDoc(sub.nome_doc)\n          setIni(sub.pag_inicio)\n          if (indice > 0) {\n            setAnt(obj.infos[indice - 1].nome_doc)\n          }\n          return\n        }\n        indice--\n      }\n    })()\n  }, [props.pagAtual, props.processo])\n  return (\n    <div className=\"doc-info\">\n      <span className=\"doc-info-ant\">\n        {ant}\n      </span>\n      <span className=\"doc-info-i\">\n        {i}\n      </span>\n      <span className=\"doc-info-doc\">\n        {doc}\n      </span>\n    </div>\n  )\n}\n\nexport default App;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport \"./index.css\";\nimport { PDFJSStatic } from \"pdfjs-dist\";\n// import * as pdfjs from 'pdfjs-dist/build/pdf';\n// import * as pdfWorker from 'pdfjs-dist/build/pdf.worker';\ndeclare const pdfjsLib: PDFJSStatic;\ndeclare const pdfjsWorker;\nconsole.info(\"PDF BOOTSTRAP\", pdfjsLib, pdfjsWorker);\n// const pdfjsWorkerBlob = new Blob([pdfjsWorker]);\n// const pdfjsWorkerBlobURL = URL.createObjectURL(pdfjsWorkerBlob);\n// pdfjsLib.workerSrc = pdfjsWorkerBlobURL;\n\nconst PORT_SERVER: string = (window as any).PORT_SERVER || \"9090\";\n\n// pdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n// pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\ndeclare const eprocData: object | null;\nconsole.log(\"eprocessoData\", eprocData);\n\n(async function() {\n  console.info(\"INICIO:\", pdfjsLib, pdfjsWorker);\n  let eprocDataFinal: object = { __META__: {} };\n  if (eprocData === null) {\n    console.log(\"vai atrás do api pq o da janela tá null\");\n    try {\n      let response = await fetch(`http://localhost:${PORT_SERVER}/json`);\n      if (response.status !== 200) {\n        console.log(\n          \"Problema no Fetch Inicial. Status Code: \" + response.status\n        );\n        return;\n      }\n      // Examine the text in the response\n      let data = await response.json();\n      console.log(data);\n      console.log(\"veio do fetch\");\n      eprocDataFinal = data;\n    } catch (error) {\n      console.log(\"ERRO\", error);\n      ReactDOM.render(<h1>Erro</h1>, document.getElementById(\n        \"root\"\n      ) as HTMLElement);\n    }\n  } else {\n    eprocDataFinal = eprocData;\n  }\n\n  ReactDOM.render(\n    <App data={eprocDataFinal} PDFJS={pdfjsLib} portServer={PORT_SERVER} />,\n    document.getElementById(\"root\") as HTMLElement\n  );\n})();\n\nregisterServiceWorker();\n"],"sourceRoot":""}